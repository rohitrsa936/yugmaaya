(self.modernJsonp=self.modernJsonp||[]).push([["6619"],{61955(e,a,t){t.r(a),t.d(a,{default:()=>o});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};i.hash="0e2c441822700a6145ea7cd142c0425b";let o=i},471195(e,a,t){t.r(a),t.d(a,{default:()=>o});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};i.hash="35b139c2e951baaa6624b30e45f913ce";let o=i},472674(e,a,t){t.r(a),t.d(a,{default:()=>o});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};i.hash="8d95294efe15498023c69669c6a41e71";let o=i},462037(e,a,t){t.r(a),t.d(a,{default:()=>o});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};i.hash="f459445ee8d1ea0db022e490ef5a2e80";let o=i},123790(e,a,t){t.r(a),t.d(a,{default:()=>o});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"PinRep_parentPin"}],type:"Pin",abstractKey:null};i.hash="cb2594cad81be6eec825977b7bcb2003";let o=i},741150(e,a,t){var i;t.r(a),t.d(a,{default:()=>r});let o={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:i,storageKey:null}]},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};o.hash="4706485911e34fec99070a2a4c272d94";let r=o},306872(e,a,t){t.r(a),t.d(a,{default:()=>o});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_parentPin"}],type:"Pin",abstractKey:null};i.hash="970c9e8a0b93cdd43095e6934563c7eb";let o=i},907464(e,a,t){t.r(a),t.d(a,{default:()=>o});let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="cf7ae619f5ec8cf58cf3302e69136b1d";let o=i},503827(e,a,t){t.r(a),t.d(a,{default:()=>o});let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="bb4e0fc2e1a319a6b7c65cb9ad5c8cb6";let o=i},584969(e,a,t){t.d(a,{A:()=>R});var i=t(97407),o=t(296540),r=t(328138);let n="select_pins",l="board_picker",s="create_board";var d=t(410227),c=t(632321),u=t(199190),h=t(643357),_=t(956220),p=t(671468),b=t(278106),f=t(427575),g=t(55268),m=t(327467),y=t(622165),A=t(468133),x=t(211974),P=t(601051),v=t(305167),w=t(474848);function B({isFirstBoardCreation:e,isResUserFirstBoardCreation:a=!1,isOnSelectStep:t,onClickBackButton:n,onDismiss:l,selectedPinCount:s}){(0,o.useEffect)(()=>{(0,i.A)("BoardlessPinsModalHeading","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsModalHeading.tsx")},[]);let d=(0,h.A)(),c=d.bt("Organise into a board", "Organize into a board", "boardlessPins.modalHeading.organizeHeading", undefined, true),u=s>0?(0,m.vQ)(d.nbt(["{{ pinCount }} selected", "{{ pinCount }} selected"], s, "boardlessPins.modalHeading.PinCountHeading", true),{pinCount:s}):c,_=d.bt("Create board", "Create board", "boardlessPins.modalHeading.createBoardHeading", undefined, true);return(0,w.jsxs)(r.az,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:8,position:"relative",children:[e||t||a?(0,w.jsx)(r.az,{height:40,width:40}):(0,w.jsx)(r.K0,{accessibilityLabel:d.bt("Go back to previous modal", "Go back to previous modal", "boardlessPins.modalHeading.arrowBackIconButton", undefined, true),disabled:t,icon:"chevron-left",iconColor:t?"inverse":"default",onClick:n,size:"md"}),(0,w.jsx)(r.az,{maxWidth:486,children:(0,w.jsx)(r._Y,{align:"center",size:"600",children:t?u:_})}),(0,w.jsx)(r.K0,{accessibilityLabel:d.bt("Cancel changes", "Cancel changes", "boardlessPins.modalHeading.cancelIconButton", undefined, true),icon:"close",iconColor:"default",onClick:l,size:"md"})]})}var S=t(64933),j=t(789542),I=t(831282),z=t(197472),C=t(699203);function k({boardlessPinsBoardId:e,currentStep:a,hasBoards:t,isOnSelectStep:d,onDismiss:c,selectedPins:_,updateCurrentStep:k,userId:E,isFirstBoardCreation:R=!1,isResUserFirstBoardCreation:T=!1,showRepinAnimation:F,onComplete:D}){(0,o.useEffect)(()=>{(0,i.A)("BoardlessPinsBoardPicker","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsBoardPicker.tsx")},[]);let O=(0,h.A)(),U=(0,C.A)(),[N,K]=(0,o.useState)(!1),[L,H]=(0,o.useState)(""),[M,V]=(0,o.useState)(""),{checkExperiment:W}=(0,y.A)(),J=(0,A.A)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),G=(0,p.wA)(),$=(0,b.Zp)(),Y=(0,x.CG)(),q=_[0],Q=_.map(e=>e.image).filter(e=>!!e),X=(a,t)=>{let i=_.map(e=>e.id);G((0,I.A)({selectedPinIds:i,source:{boardId:e,sectionId:null},target:{boardId:a,sectionId:t||null}},O)),G((0,j.J6)({feedId:E,feedType:z.A.BOARDLESS_PINS,itemIds:i,itemType:"pin"}))},Z=async()=>{try{let e=await U({boardCreateOptions:{name:M,privacy:N?"secret":"public",aux_data:{source:"organize_pins"}}});if(X(e.id),c(),R&&W("ap_dweb_first_board_creation",{dangerouslySkipActivation:!0}).group.includes("genie")){Y.showToast(({hideToast:a})=>(0,w.jsx)(g.A,{duration:3e3,imageUrl:_[0]?.image?.url??"",onHide:a,text:(0,w.jsx)(r.KJ,{overflow:"normal",size:"200",children:(0,m.$w)({text:O.bt("Saved to <a id=\"1\">{{ boardName }}</a>", "Saved to <a id=\"1\">{{ boardName }}</a>", "BoardlessPinsBoardPicker.SavedToBoardToast.Message", undefined, true),markers:{boardName:e.name??""},jsxReplacements:{1:({innerHtmlStrings:a})=>(0,w.jsx)(r.N_,{display:"block",href:e.url??"",children:(0,w.jsx)(r.KJ,{lineClamp:1,size:"200",weight:"bold",children:a},"PostSavedPinToastBoardName")})}})}),thumbnail:{icon:(0,w.jsx)(r.In,{accessibilityLabel:O.bt("Saved to profile thumbnail", "Saved to profile thumbnail", "BoardlessPinsBoardPicker.thumbnail.accessibilityLabel", undefined, true),color:"default",icon:"clock-history",size:24})}}));let a=_.map(e=>e.id);F?.(a[0]??""),D?.()}else Y.showToast(({hideToast:e})=>(0,w.jsx)(g.A,{onHide:e,text:O.bt("Board created.", "Board created!", "BoardlessPinsBoardPicker.boardCreated.toast", undefined, true)})),D?.(),e.url&&$(e.url,{replace:!0})}catch(a){let e=O.bt("Something went wrong.", "Uh oh! Something went wrong.", "BoardlessPinsBoardPicker.boardCreate.submitErrorDefault", undefined, true);if("string"==typeof a)e=a;else{let t=(0,f.A)(a,"message");if(t){let i=(0,f.A)(a,"message_detail");e=i?`${t} ${i}`:t}}H(e)}},ee=(0,w.jsxs)(r.az,{alignItems:"center",display:"flex",justifyContent:"between",paddingX:4,paddingY:5,position:"relative",children:[(0,w.jsx)(r.K0,{accessibilityLabel:O.bt("Go back", "Go back", "BoardlessPinsBoardPicker.modalHeading.arrowBackIconButton", undefined, true),disabled:d,icon:"chevron-left",iconColor:d?"inverse":"default",onClick:()=>k(n),size:"md"}),(0,w.jsx)(r._Y,{align:"center",size:"600",children:O.bt("Move to a board", "Move to a board", "BoardlessPinsBoardPicker.save.modalTitle", undefined, true)}),(0,w.jsx)(r.K0,{accessibilityLabel:O.bt("Cancel changes", "Cancel changes", "BoardlessPinsBoardPicker.modalHeading.cancelIconButton", undefined, true),icon:"close",iconColor:"default",onClick:()=>c(l),size:"md"})]});return t&&a!==s?(0,w.jsx)(u.Ay,{accessibilityModalLabel:O.bt("Move to a board", "Move to a board", "BoardlessPinsBoardPicker.chooseExistingBoardsModal.accessibilityLabel", undefined, true),heading:ee,onDismiss:()=>c(l),size:"md",children:(0,w.jsx)(r.az,{padding:1,children:(0,w.jsx)(v.K$,{boardResource:J,changeBoardModal:!0,onBoardCreate:({title:e=""}={})=>{V(e),k(s)},onItemChosen:e=>{X(e.boardId,e.sectionId),Y.showToast(({hideToast:a})=>(0,w.jsx)(g.A,{onHide:a,text:(0,m.vQ)(O.bt("Moved to {{boardName}}", "Moved to {{boardName}}", "BoardlessPinsBoardPicker.onItemChosen.toast", undefined, true),{boardName:e.title}).join("")})),c()},paneHeight:644,paneWidth:720,pinId:q.id,surface:P.A.ORGANIZE_PINS})})}):(0,w.jsx)(u.Ay,{accessibilityModalLabel:O.bt("Create board", "Create board", "BoardlessPinsBoardPicker.createBoard.accessibilityLabel", undefined, true),footer:(0,w.jsx)(r.so,{justifyContent:"end",children:(0,w.jsx)(r.$n,{color:"primary",disabled:0===M.trim().length,onClick:Z,size:"lg",text:O.bt("Create", "Create", "BoardlessPinsBoardPicker.boardCreate.createButton", undefined, true)})}),heading:(0,w.jsx)(B,{isOnSelectStep:!1,isResUserFirstBoardCreation:T,onClickBackButton:()=>{k(t?l:n)},onDismiss:()=>c(s),selectedPinCount:_.length}),onDismiss:()=>c(s),size:"md",children:(0,w.jsx)(r.az,{height:644,children:(0,w.jsx)(S.A,{boardThumbs:Q,isSecret:N,name:M,onNameChange:({value:e})=>{e.trim()?H(""):H(O.bt("Don't forget to name your board!", "Don't forget to name your board!", " - ", undefined, true)),V(e)},onVisibilityChange:({checked:e})=>K(e),submitError:L})})})}var E=t(925177);function R({boardlessPinsNormalized:e,fetchMore:a,hasBoards:t,isFirstBoardCreation:p=!1,isResUserFirstBoardCreation:b=!1,onDismiss:f,userId:g,showRepinAnimation:m,onComplete:y,lastSavedPin:A}){(0,o.useEffect)(()=>{(0,i.A)("BoardlessPinsOrganizeModal","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardlessPinsOrganizeModal.tsx")},[]);let x=(0,h.A)(),P=(0,o.useRef)(null),[v,S]=(0,o.useState)([]),[j,I]=(0,o.useState)(b?s:n),{logContextEvent:z}=(0,c.o)(),C=(0,E.zy)(),R=(0,o.useMemo)(()=>e&&C?e.reduce((e,a)=>{let t=C[a.id];return e.push(t),e},[]):[],[e,C]);(0,o.useEffect)(()=>{p&&R.length?S(R.reduce((e,a)=>(a&&e.push({id:a.id,image:p?a.images?.["236x"]??null:a.images?.["170x"]??null}),e),[])):b&&A&&S([A])},[R,p,b,A]);let T=R[0]?.board?.id??"",F=(e,a)=>{let t,i=[...v];a?(p?z({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!0}}):z({event_type:7301,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!0,pin_id:e.id}}),t=i.concat({id:e.id,image:p?e.images?.["236x"]:e.images?.["170x"]})):(p?z({event_type:101,view_type:740,view_parameter:4166,element:18124,object_id_str:e.id,aux_data:{selected:!1}}):z({event_type:14667,view_type:631,view_parameter:3906,object_id_str:e.id,aux_data:{selected:!1,pin_id:e.id}}),t=i.filter(a=>a.id!==e.id)),S(t)};(0,o.useEffect)(()=>{let e;j===n?e=p?4166:3906:j===l?e=p?4167:3133:j===s&&(e=3992),(j===n||j===l||j===s)&&z({event_type:13,view_type:p?740:631,view_parameter:e})},[j,p,z]);let D=j===n;return(0,w.jsx)(o.Fragment,{children:D?(0,w.jsx)(u.Ay,{accessibilityModalLabel:x.bt("Organise into a board", "Organize into a board", "boardlessPins.organizeModal.accessibilityLabel", undefined, true),footer:(0,w.jsx)(r.so,{justifyContent:"end",children:(0,w.jsx)(r.$n,{color:"primary",disabled:0===v.length,onClick:()=>{z({event_type:101,view_type:p?740:631,view_parameter:p?4166:3906,element:p?96:14187}),I(l)},size:"lg",text:x.bt("Next", "Next", "boardlessPins.organizeModal.nextButton", undefined, true)})}),heading:(0,w.jsx)(B,{isFirstBoardCreation:p,isOnSelectStep:D,onClickBackButton:()=>I(n),onDismiss:()=>f(j),selectedPinCount:v.length}),onDismiss:()=>f(j),size:"md",children:(0,w.jsx)(r.az,{ref:P,height:428,children:R&&P&&(0,w.jsx)(_.n,{children:(0,w.jsx)(r.a,{columnWidth:152,gutterWidth:16,items:R,loadItems:a,renderItem:({data:e,itemIdx:a})=>(0,w.jsx)(d.A,{handleTogglePinSelection:F,index:a,isSelected:!!v.filter(a=>a.id===e.id).length,pin:e,surface:"SelectableBoardlessPin",unselectedState:"no-selection"}),scrollContainer:()=>P.current})})})}):(0,w.jsx)(k,{boardlessPinsBoardId:T,currentStep:j,hasBoards:t,isFirstBoardCreation:p,isOnSelectStep:D,isResUserFirstBoardCreation:b,onComplete:y,onDismiss:f,selectedPins:v,showRepinAnimation:m,updateCurrentStep:e=>I(e),userId:g})})}},410227(e,a,t){t.d(a,{A:()=>d});var i=t(97407),o=t(296540),r=t(328138),n=t(342394),l=t(925177),s=t(474848);function d({handleTogglePinSelection:e,index:a,isSelected:t,isDisabled:d,pin:c,surface:u,unselectedState:h="deselected-image-only",disableHover:_}){(0,o.useEffect)(()=>{(0,i.A)("SelectablePin","/app/common/react/components/profile/ProfileBoards/BoardlessPins/SelectablePin.tsx")},[]);let p=(0,l.HR)()(c.id);return(0,s.jsx)(r.Rp,{disabled:d,onTap:()=>{e(c,!t)},rounding:400,children:(0,s.jsx)(n.Y,{attributionOption:"hide",blockClickEvents:!0,disableHover:_,pinId:c.id,pinImageCrop:"none",pinKey:{type:"Legacy",data:p??c},saveButtonOptions:{type:"none"},selectionState:t?"selected-image-only":h,slotIndex:a,surface:u})})}},493(e,a,t){t.d(a,{A:()=>i});let i=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e})},509820(e,a,t){t.d(a,{A:()=>r});var i=t(568677),o=t(840085);function r(){return function({deviceType:e,site:a}){switch(a){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,i.Ay)(),site:(0,o.gx)()})}},998753(e,a,t){t.d(a,{A:()=>c,k:()=>d});var i=t(296540),o=t(493),r=t(534955),n=t(509820),l=t(842120),s=t(398304);let d=(0,i.createContext)(void 0),c=function(){let{advertiser:e}=(0,r._8)(),a=function(){let{isSterlingSite:e}=(0,o.A)((0,n.A)());return(0,i.use)(d)??e}(),t=(0,s.A)(),c=((0,l.K)()?.profiles||[]).find(a=>a?.id===e?.owner_user_id);return a&&c||t}},367863(e,a,t){t.d(a,{A:()=>r,d:()=>i});let{Provider:i,get:o}=(0,t(697384).A)("Header"),r=o},342394(e,a,t){t.d(a,{Y:()=>v});var i,o,r,n,l,s=t(97407),d=t(296540);t(234784);var c=t(328911),u=t(528074),h=t(391972),_=t(698781),p=t(539187),b=t(796903),f=t(925177),g=t(474848);void 0!==i||(i=t(503827)).hash&&"bb4e0fc2e1a319a6b7c65cb9ad5c8cb6"!==i.hash&&console.error("The definition of 'UnifiedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");let m=(void 0!==o||(o=t(907464)).hash&&"cf7ae619f5ec8cf58cf3302e69136b1d"!==o.hash&&console.error("The definition of 'UnifiedPinRepVariant_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),y=(void 0!==r||(r=t(306872)).hash&&"970c9e8a0b93cdd43095e6934563c7eb"!==r.hash&&console.error("The definition of 'UnifiedPinRepVariant_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),A=(void 0!==n||(n=t(741150)).hash&&"4706485911e34fec99070a2a4c272d94"!==n.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),x=(void 0!==l||(l=t(123790)).hash&&"cb2594cad81be6eec825977b7bcb2003"!==l.hash&&console.error("The definition of 'UnifiedPinRepDefaultPinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),P=e=>{var a,t,i,o;let{pinId:r,pinKey:n,parentPinKey:l,hideContextMenu:s,hideSendButton:m,hideEditButton:y,...P}=e,v=n&&"GraphQL"===(0,h.z)(n),w=(0,_.A)(A,n),B=(0,_.A)(x,l),S=(0,f.HR)()(r),j=(0,b.oW)(),I=(a=!!v,w||a?w:S?{type:"Legacy",data:S}:null),z=(0,c.A)(),C=(0,d.useMemo)(()=>S?{type:"Legacy",data:S}:null,[S]),k=w||v||!z?I:C;return k&&(0,g.jsx)(u.A,{name:"DefaultPinRep",type:"critical",children:(0,g.jsx)(d.Suspense,{children:(0,g.jsx)(p.A,{...P,boardKey:(t=!!v,i=w?.pinnedToBoard||w?.board||null,o=j(S?.pinned_to_board?.id||S?.board?.id||""),t?i??null:o?{type:"Legacy",data:o}:null),hideContextMenu:s,hideEditButton:y,hideSendButton:m,parentPinKey:B,pinKey:k})})})};function v({pinKey:e,parentPinKey:a,...t}){(0,d.useEffect)(()=>{(0,s.A)("UnifiedPinRep","/app/www/PinRep/UnifiedPinRep.tsx")},[]);let i=(0,_.A)(m,e),o=(0,_.A)(y,a);return(0,g.jsx)(P,{...t,parentPinKey:o,pinKey:i})}},343097(e,a,t){t.d(a,{A:()=>u});var i=t(97407),o=t(296540),r=t(328138),n=t(474848);function l(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:a,imgUrl:t}){let[i,r]=(0,o.useState)({height:0,loaded:!1,width:0}),{height:n,loaded:s,width:d}=i;if((0,o.useEffect)(()=>{let e=new Image;e.onload=()=>{r({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=t},[t]),!e||!a||!n||!d)return{loaded:s,position:"center center"};let c=d-a.width,u=n-a.height,h=c>0?l(a.x/c):"center",_=u>0?l(a.y/u):"center";return{loaded:s,position:`${h} ${_}`}}function d(e){let{loaded:a,position:t}=s(e),{imgUrl:i}=e,o={backgroundImage:`url(${i})`,backgroundPosition:t,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,n.jsx)(r.az,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:a&&(0,n.jsx)(r.az,{dangerouslySetInlineStyle:{__style:o},"data-test-id":"cover-image",children:(0,n.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function c(e){let{loaded:a,position:t}=s(e),{alt:i,color:o,imgUrl:l}=e;return(0,n.jsx)(r.n1,{height:"100%",width:"100%",children:a&&(0,n.jsx)("img",{alt:i||"",src:l,style:{backgroundColor:o||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:t,width:"100%"}})})}function u(e){(0,o.useEffect)(()=>{(0,i.A)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:a}=e;return a?(0,n.jsx)(c,{...e}):(0,n.jsx)(d,{...e})}},328(e,a,t){t.d(a,{A:()=>w});var i,o,r=t(97407),n=t(296540);t(369487);var l=t(328138),s=t(698781),d=t(643357),c=t(939043),u=t(622165),h=t(534955),_=t(568677),p=t(679923),b=t(541260),f=t(343097),g=t(474848);function m({backgroundColor:e="darkGray",iconColor:a="inverse",iconSize:t,privacy:i,size:o=20}){(0,n.useEffect)(()=>{(0,r.A)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,d.A)();return(0,g.jsx)(l.az,{alignItems:"center",color:e,direction:"column",display:"flex",height:o,justifyContent:"center",rounding:"circle",width:o,children:(0,g.jsx)(l.In,{accessibilityLabel:s.bt("Secret board icon", "Secret board icon", "Icon indicating that a board is secret", undefined, true),color:a,icon:"secret"===i?"lock":"shield",size:t??o/2})})}var y=t(284567),A=t(572590);let x=(void 0!==i||(i=t(61955)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==i.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),P=(void 0!==o||(o=t(471195)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==o.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),v="100%";function w(e){(0,n.useEffect)(()=>{(0,r.A)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let a=(0,d.A)(),{boardKey:t,canEdit:i,containerBackgroundColor:o="white",coverPhoto:w,coverPinKey:B,fullSize:S,hideSecretBoardIcon:j,images:I,isActive:z,isHomePageBoards:C,isProtected:k,isSecret:E,layout:R,onEditClick:T,renderAsImage:F,showSensitivityScreen:D}=e,O=(0,_.qJ)(),{isRTL:U,isAuthenticated:N}=(0,h._8)(),K=(0,s.A)(x,t),L=(0,s.A)(P,B),H=(0,n.useRef)(null),M=O&&N,{checkExperiment:V}=(0,u.A)(),[W,J]=(0,n.useState)(!1);(0,n.useEffect)(()=>{z&&M&&K&&!E&&!W&&J(V("ce_dweb_board_preview_share_button").anyEnabled)},[z,M,K,E,W,V]);let G=(0,n.useRef)(void 0);(0,n.useEffect)(()=>{z?G.current&&(clearTimeout(G.current),G.current=void 0):G.current||(G.current=window.setTimeout(()=>{G.current=void 0,z||J(!1)},200))},[z]),(0,n.useEffect)(()=>()=>{G.current&&clearTimeout(G.current)},[]);let $=I[0],Y=!w&&I[0]?.name||a.bt("Cover image", "Cover image", "DrawerImageGroup", undefined, true),q=[,,].fill(0),Q=new l.rk(1),X="square"===R?b.m8:b.y7,Z="square"===R?b.dv:b.rJ,ee=$?.url?(0,g.jsx)(l._V,{alt:Y,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:$.url}):(0,g.jsx)(l.az,{color:"secondary",height:"100%",width:"100%"}),ea=D?{filter:"blur(20px)"}:{};return(0,g.jsxs)(l.n1,{height:S?"100%":void 0,rounding:400,width:"100%",children:[(0,g.jsxs)(l.so,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,g.jsx)(l.VP,{span:8,children:(0,g.jsx)(l.az,{dangerouslySetInlineStyle:{__style:ea},height:S?"100%":void 0,position:"relative",children:(0,g.jsx)(l.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:v}},overflow:"hidden",width:"100%",children:(0,g.jsxs)(l.az,{ref:H,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:C?"#FFDFE9":o,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(k||E)&&!j&&(0,g.jsx)(l.az,{left:!U,margin:2,position:"absolute",right:U,top:!0,zIndex:Q,children:(0,g.jsx)(m,{backgroundColor:"default",iconColor:"default",privacy:E?"secret":"protected",size:M?32:24})}),w?.url?(0,g.jsx)(l.n1,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(f.A,{customCover:w.isCustom,height:Z,imgPos:L?function(e){let{crop:a,size:t}=e||{};if(Array.isArray(a)&&Array.isArray(t))return{x:a[0]||0,y:a[1]||0,width:t[0]||0,height:t[1]||0}}(L):w.position||{width:0,height:0,x:0,y:0},imgUrl:L?.imageUrl??(w.url||""),renderAsImage:F,width:Math.floor(X/3*2)})}):ee]})})})}),(0,g.jsx)(l.VP,{span:4,children:(0,g.jsxs)(l.az,{dangerouslySetInlineStyle:{__style:ea},height:"100%",children:[(i||W)&&(0,g.jsxs)(l.az,{bottom:!0,display:W?"flex":void 0,left:U,margin:2,opacity:100*!!z,position:"absolute",right:!U,zIndex:Q,children:[W&&(0,g.jsx)(l.Rp,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,g.jsx)(l.az,{marginEnd:1,children:(0,g.jsx)(A.A,{boardKey:K,handleCreatePincode:()=>{},iconColor:"default",size:"sm"})})}),i&&(0,g.jsx)(l.Rp,{onTap:({event:e})=>T?.(e),children:(0,g.jsx)(l.K0,{accessibilityLabel:a.bt("Edit", "Edit", "DrawerImageGroup.edit", undefined, true),bgColor:"default",icon:"pencil",iconColor:"default",size:"sm",tabIndex:-1})})]}),q.map((e,a)=>{let t=w?I[a]:I[a+1];return(0,g.jsx)(l.az,{height:S?"50%":void 0,position:"relative",children:(0,g.jsx)(l.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:v}},overflow:"hidden",width:"100%",children:(0,g.jsx)(l.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:C?"#FFDFE9":o,borderStyle:"solid",borderWidth:0===a?1:"0 1px 1px 1px",borderRadius:0===a?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:t?.url?(0,g.jsx)(l.n1,{height:"100%",wash:!0,width:"100%",children:(0,g.jsx)(l._V,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:t.url})}):(0,g.jsx)(l.az,{color:"secondary",height:"100%",width:"100%"})})})},a)})]})}),D&&(0,g.jsx)(l.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(l._Y,{align:"center",color:"light",size:"400",children:a.bt("This board may contain sensitive content", "This board may contain sensitive content", "drawerImageGroup.sensitivityScreen.heading", undefined, true)})})]}),(0,g.jsx)(p.A,{visibility:z?"visible":"none",children:(0,g.jsx)(y.A,{additionalStyles:{backgroundColor:c.EZ.LEGO_WASH}})})]})}},898014(e,a,t){t.d(a,{A:()=>s});var i=t(97407),o=t(296540),r=t(328138),n=t(643357),l=t(474848);function s(){(0,o.useEffect)(()=>{(0,i.A)("SecretBoardIcon","/app/www/board/SecretBoardIcon.tsx")},[]);let e=(0,n.A)();return(0,l.jsx)(r.In,{accessibilityLabel:e.bt("Secret board", "Secret board", "Accessibility label for icon indicating a secret board", undefined, true),color:"default",icon:"lock",inline:!0})}},956220(e,a,t){t.d(a,{d:()=>s,n:()=>d});var i=t(296540),o=t(697384),r=t(622165),n=t(474848);let{Provider:l,get:s}=(0,o.A)("HomeFeedTuner");function d({children:e}){let[a,t]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),{checkExperiment:u}=(0,r.A)(),h=(0,i.useMemo)(()=>u("mweb_ap_res_user_in_grid_feedback",{dangerouslySkipActivation:!0}).anyEnabled,[u]),_=(0,i.useCallback)(()=>{h&&t(!0)},[h]),p=(0,i.useCallback)(()=>{t(!1)},[]),b=(0,i.useCallback)(()=>{h&&s(!0)},[h]),f=(0,i.useCallback)(()=>{s(!1)},[]),g=(0,i.useCallback)(()=>{c(!0)},[]),m=(0,i.useCallback)(()=>{c(!1)},[]),y=(0,i.useMemo)(()=>({shouldRefreshHomefeed:a,markForRefresh:_,clearRefreshFlag:p,cameFromRefineButton:o,markCameFromRefineButton:b,clearCameFromRefineButton:f,cameFromRefineRecommendationsLink:d,markCameFromRefineRecommendationsLink:g,clearCameFromRefineRecommendationsLink:m}),[a,o,d,_,p,b,f,g,m]);return(0,n.jsx)(l,{value:y,children:e})}},570532(e,a,t){t.d(a,{A:()=>b});var i=t(97407),o=t(296540),r=t(328138),n=t(870637),l=t(643357),s=t(534955),d=t(898014),c=t(343097),u=t(474848);function h({cover:e,height:a,image:t,width:n}){return((0,o.useEffect)(()=>{(0,i.A)("BoardCollageCoverImage","/app/www/profile/ProfileBoardCard/BoardCollageCoverImage.tsx")},[]),e)?(0,u.jsx)(c.A,{customCover:e.isCustom,height:a,imgPos:e.position||{width:0,height:0,x:0,y:0},imgUrl:e.url??"",width:n}):t&&t.url?(0,u.jsx)(r.n1,{height:a,wash:!0,width:n,children:(0,u.jsx)(r._V,{alt:"Board collage cover image",color:"#EFEFEF",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}):(0,u.jsx)(r.az,{color:"secondary",height:a,width:n})}function _({image:e,width:a,height:t}){return(0,o.useEffect)(()=>{(0,i.A)("BoardCollageImage","/app/www/profile/ProfileBoardCard/BoardCollageImage.tsx")},[]),e&&e.url?(0,u.jsx)(r.n1,{height:t,wash:!0,width:a,children:(0,u.jsx)(r._V,{alt:"Board collage image",color:"#EFEFEF",fit:"cover",naturalHeight:e.height||1,naturalWidth:e.width||1,src:e.url})}):(0,u.jsx)(r.az,{color:"secondary",height:t,width:a})}var p=t(493986);function b({boardThumbs:e=[],cover:a,editButton:t,isActive:c,isSecret:b,layout:f,sensitivityScreenAuxData:g,showSensitivityScreen:m=!1}){(0,o.useEffect)(()=>{(0,i.A)("BoardCollage","/app/www/profile/ProfileBoardCard/BoardCollage.tsx")},[]);let y=(0,l.A)();(0,n.r)(m?{component:13861,view_type:215,aux_data:g}:null);let{isRTL:A}=(0,s._8)(),{height:x,width:P}=(0,p.P)(f),v=Math.floor(x/2),w=Math.floor(P/3),B=a?void 0:e[0],S=e.slice(+!a);return(0,u.jsxs)(r.n1,{height:x,rounding:400,wash:c,width:P,children:[(0,u.jsx)(r.az,{"aria-label":"Board",color:"default",dangerouslySetInlineStyle:{__style:m?{filter:"blur(20px)"}:{}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:(0,u.jsxs)(r.az,{"aria-hidden":"true",dangerouslySetInlineStyle:{__style:{gap:"1px"}},display:"flex",height:"100%",justifyContent:"between",width:"100%",children:[(0,u.jsx)(h,{cover:a,height:x,image:B,width:Math.floor(P/3*2)}),(0,u.jsxs)(r.so,{alignItems:"stretch",direction:"column",flex:"none",height:"100%",justifyContent:"between",children:[(0,u.jsx)(_,{height:v,image:S[0],width:w}),(0,u.jsx)(_,{height:v,image:S[1],width:w})]})]})}),b&&(0,u.jsx)(r.az,{alignItems:"center",color:"default",display:"flex",height:32,justifyContent:"center",left:!A,marginStart:2,marginTop:2,position:"absolute",right:A,rounding:"circle",top:!0,width:32,children:(0,u.jsx)(d.A,{})}),c&&t&&(0,u.jsx)(r.az,{alignItems:"center",bottom:!0,color:"default",display:"flex",height:32,justifyContent:"center",left:A,marginBottom:2,marginEnd:2,position:"absolute",right:!A,rounding:"circle",width:32,children:t}),m&&(0,u.jsx)(r.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,u.jsx)(r._Y,{align:"center",color:"light",size:"400",children:y.bt("This board may contain sensitive content", "This board may contain sensitive content", "profileBoardCard.boardCollage.heading", undefined, true)})})]})}},493986(e,a,t){t.d(a,{P:()=>o,Q:()=>r});let i={square:{width:236,height:157},wide:{width:320,height:213}};function o(e){return i["square"===e?"square":"wide"]}function r(e){return o(e).width+16}},64933(e,a,t){t.d(a,{A:()=>d});var i=t(97407),o=t(296540),r=t(328138),n=t(643357),l=t(570532),s=t(474848);function d({boardThumbs:e,isChangeBoardModal:a,isSecret:t,name:d,onNameChange:c,onVisibilityChange:u,submitError:h}){(0,o.useEffect)(()=>{(0,i.A)("CreateBoard","/app/www/profile/ProfileBoards/BoardlessPins/CreateBoard.tsx")},[]);let _=(0,n.A)();return(0,s.jsx)(r.az,{paddingX:8,children:(0,s.jsxs)(r.so,{direction:"column",gap:{row:0,column:4},children:[e&&!a&&(0,s.jsx)(l.A,{boardThumbs:e,editButton:null,isActive:!1,isSecret:!1,layout:"square"}),(0,s.jsxs)(r.so,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(r.KJ,{size:"100",children:_.bt("Name", "Name", "boardlessPins.createBoard.boardNameText", undefined, true)}),(0,s.jsx)(r.A_,{id:"boardName",name:"boardName",onChange:c,placeholder:_.bt("Add a title such as 'DIY' or 'Recipes'", "Add a title, like “DIY” or “Recipes”", "boardlessPins.createBoard.boardNameTextPlaceholder", undefined, true),size:"lg",value:d})]}),(0,s.jsxs)(r.so,{direction:"column",gap:{row:0,column:2},children:[(0,s.jsx)(r.KJ,{size:"100",children:_.bt("Visibility", "Visibility", "boardlessPins.createBoard.visibilityTitle", undefined, true)}),(0,s.jsxs)(r.so,{gap:{row:4,column:0},children:[(0,s.jsx)(r.Sc,{checked:t,id:"boardVisibility",name:"boardVisibility",onChange:u}),(0,s.jsxs)(r.so,{direction:"column",gap:{row:0,column:1},children:[(0,s.jsx)(r.KJ,{children:_.bt("Keep this board secret", "Keep this board secret", "boardlessPins.createBoard.visibilityCheckbox", undefined, true)}),(0,s.jsx)(r.KJ,{color:"subtle",children:_.bt("So only you and collaborators can see it.", "So only you and collaborators can see it.", "boardlessPins.createBoard.visibilityCheckboxInfo", undefined, true)})]})]})]}),h&&(0,s.jsx)(r.KJ,{color:"error",children:h})]})})}},953683(e,a,t){t.d(a,{A:()=>o});var i=t(581818);function o(e,a){return t=>t((0,i.J)("BoardSectionResource",{options:{field_set_key:a||"board_page",section_id:e}}))}},959463(e,a,t){t.d(a,{A:()=>o});var i=t(581818);function o(e,a,t){return(0,i.J)("BoardResource",{options:{board_id:e,field_set_key:a,...t?{orbac_subject_id:t}:{}}})}},831282(e,a,t){t.d(a,{A:()=>p,B:()=>_});var i=t(684059),o=t(959463),r=t(953683),n=t(789542),l=t(779015),s=t(197472),d=t(555491);let c=e=>a=>{d.A.showError(function(e,a){switch(e.api_error_code){case 2171:case 2172:case 2173:return a.bt("Please wait until the previous board action finishes.", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(a,e))},u=e=>(0,n.eO)(e.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,e.sectionId||e.boardId);function h(e,a){let{source:t,target:i}=e;i.boardId!==t.boardId?(a((0,o.A)(t.boardId,"pin_count")),a((0,o.A)(i.boardId,"pin_count"))):t.sectionId&&i.sectionId||a((0,o.A)(i.boardId,"pin_count")),t.sectionId&&a((0,r.A)(t.sectionId)),i.sectionId&&a((0,r.A)(i.sectionId))}function _(e){return a=>{let{selectedPinIds:t,source:i,target:o}=e;a((0,n.J6)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,itemIds:t,itemType:"pin"})),a((0,n.ZT)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,itemIds:t,itemType:"pin"})),t.forEach(e=>{a((0,l.PD)({pinId:e,boardId:o.boardId,sectionId:o.sectionId||void 0,title:o.name||""}))}),h(e,a)}}function p(e,a){return t=>{let{selectedPinIds:o,target:r}=e;return o.forEach(e=>{t((0,l.PD)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),(function(e,a,t){let{inverseSelection:o,selectedPinIds:r,source:l,target:d,orbacSubjectId:h}=e;if(l.boardId===d.boardId&&(l.sectionId||null)===(d.sectionId||null))return Promise.reject();if(o){let e={board_id:l.boardId,new_board_id:d.boardId,old_section_id:l.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:r,orbac_subject_id:h};return i.A.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([a(u(l)),a(u(d))])).catch(c(t))}{let e=(e,t)=>{a((0,n.J6)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,itemIds:r,itemType:"pin"})),a((0,n.ZT)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?s.A.BOARD_SECTION_PINS:s.A.BOARDFEED,itemIds:r,itemType:"pin"}))};if(e(l,d),d.boardId===l.boardId)if(d.sectionId){let a={section_id:d.sectionId,pins:r,orbac_subject_id:h};return i.A.create("BoardSectionEditResource",a).callUpdate({showError:!1}).catch(a=>{e(d,l),c(t)(a)})}else{let a={section_id:l.sectionId,pins:r,orbac_subject_id:h};return i.A.create("BoardSectionPinsResource",a).callDelete({showError:!1}).catch(a=>{e(d,l),c(t)(a)})}{let a={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:r,orbac_subject_id:h};return i.A.create("BulkEditResource",a).callUpdate({showError:!1}).catch(a=>{e(d,l),c(t)(a)})}}})(e,t,a).then(()=>h(e,t))}}},779015(e,a,t){function i(e){return{type:"PIN_BETTER_SAVE",payload:e}}function o(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function r(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function n(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}t.d(a,{PD:()=>l,UN:()=>i,aC:()=>d,dD:()=>s,jI:()=>r,ne:()=>n,uW:()=>o})},476568(e,a,t){t.d(a,{A:()=>b});var i,o=t(97407),r=t(296540);t(234784);var n=t(328138),l=t(845061),s=t(698781),d=t(643357),c=t(741745),u=t(26446),h=t(474848);let _=(void 0!==i||(i=t(462037)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==i.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);class p extends r.Component{constructor(...e){var a,t,i;super(...e),t={flyoutOpen:!1},(a="symbol"==typeof(i=function(e,a){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,a||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a="state","string"))?i:i+"")in this?Object.defineProperty(this,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[a]=t}render(){let{board:e,bgColor:a="default",children:t,iconColor:i="subtle",onCreatePincode:o,showTooltip:l,size:s="lg"}=this.props,{flyoutOpen:d}=this.state,_={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},p=e=>{let{requireAuth:a}=this.props;if(a){e&&e.preventDefault(),a();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},b=t&&t({active:d,onClick:()=>p()})||(0,h.jsx)(n.K0,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n.bt("Send board", "Send Board", "Accessible label for button to send board", undefined, true),bgColor:a,dataTestId:"send-board-button-icon",icon:"share",iconColor:i,onClick:({event:e})=>p(e),selected:d,size:s,tooltip:l?{text:this.props.i18n.bt("Share board", "Share board", "sendBoardFlyout.button.tooltip", undefined, true)}:void 0});return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(n.az,{ref:e=>{this.anchor=e},children:b}),this.state.flyoutOpen&&(0,h.jsx)(n.Wd,{zIndex:u.u$,children:(0,h.jsx)(n.AM,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>p(),positionRelativeToAnchor:!1,size:"flexible",children:(0,h.jsx)(c.A,{component:13216,onCreatePincodeClick:o?()=>{p(),o()}:void 0,onHide:()=>p(),sendShareSurface:5,sendType:"board",sharedObject:_,viewType:5})})})]})}componentDidMount(){(0,o.A)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let b=e=>{(0,r.useEffect)(()=>{(0,o.A)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let a=(0,d.A)(),t=(0,l.A)(),i=(0,s.A)(_,e.boardKey);return(0,h.jsx)(p,{...e,board:i,i18n:a,requireAuth:t,sendBoardButtonRef:e.sendBoardButtonRef})}},572590(e,a,t){t.d(a,{A:()=>g});var i,o=t(97407),r=t(296540);t(369487);var n=t(328138),l=t(632321),s=t(845061),d=t(696561),c=t(698781),u=t(643357),h=t(534955),_=t(476568),p=t(4609),b=t(474848);let f=(void 0!==i||(i=t(472674)).hash&&"8d95294efe15498023c69669c6a41e71"!==i.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function g({boardKey:e,color:a,handleCreatePincode:t,iconColor:i,hasBoardToolStyles:g,hasShadow:m,showTooltip:y,size:A="lg"}){(0,r.useEffect)(()=>{(0,o.A)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:x}=(0,l.o)(),P=(0,u.A)(),v=(0,s.A)(),{userAgent:{platform:w}}=(0,h._8)(),B="android"===w,S=(0,r.useRef)(null),j=(0,c.A)(f,e),[I,z]=(0,r.useState)(!1),C=I?void 0:a,k=I?{__style:{backgroundColor:"#e2e2e2"}}:void 0;return(0,b.jsxs)(r.Fragment,{children:[(0,b.jsx)(_.A,{boardKey:j,iconColor:i,onCreatePincode:t,onOpen:()=>{v?v():(0,p.A)(x)},sendBoardButtonRef:S,showTooltip:y,size:A,children:g?({active:e,onClick:a})=>(0,b.jsx)(n.Rp,{dataTestId:"share-board-button",onTap:a,rounding:500,children:(0,b.jsxs)(n.az,{alignItems:"center",color:e?"selected":C,dangerouslySetInlineStyle:k,display:"flex",elevation:m?"shadowFloating":void 0,height:64,justifyContent:"center",onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),paddingX:4,rounding:500,children:[(0,b.jsx)(n.az,{marginEnd:2,children:(0,b.jsx)(n.In,{accessibilityLabel:P.bt("Share", "Share", "Board.ShareButton", undefined, true),color:e?"light":"default",icon:B?"share-android":"share",size:20})}),(0,b.jsx)(n.KJ,{color:e?"inverse":"default",children:P.bt("Share", "Share", "Board.ShareButton", undefined, true)})]})}):void 0}),(0,b.jsx)(d.X$,{anchors:{3018:S.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},4609(e,a,t){t.d(a,{A:()=>i});function i(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},699203(e,a,t){t.d(a,{A:()=>c});var i=t(671468),o=t(22504),r=t(684059),n=t(72201),l=t(802424),s=t(581818),d=t(972756);function c(){let e=(0,i.wA)(),a=(0,i.d4)(e=>e.resources);return async function({boardCreateOptions:t,deprecatedSchemaForNormalization:i}){let c=await r.A.create("BoardResource",t).callCreate(),u=c.resource_response.data,h=i?(0,o.S8)(u,i):void 0;e((0,d.md)("BoardResource",t,c,h)),e((0,n.$O)({event_type:20})),u.owner?.id&&e((0,s.O)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let _=a.BoardsResource||{},p=a.BoardsFeedResource||{};return Object.keys(_).forEach(a=>{(0,l.J)(a).username===u.owner?.username&&e((0,d.Q5)("BoardsResource",a))}),Object.keys(p).forEach(a=>{(0,l.J)(a).username===u.owner?.username&&e((0,d.Q5)("BoardsFeedResource",a))}),u}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/6619.en_GB-cef1df36b1ddb6d8.mjs.map