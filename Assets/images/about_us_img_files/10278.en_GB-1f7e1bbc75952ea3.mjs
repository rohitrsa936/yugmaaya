(self.modernJsonp=self.modernJsonp||[]).push([["10278"],{432510(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarouselModule_parentPin",selections:[{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};l.hash="ba117249c9ffc02340353f2c3b5e4f5f";let n=l},951936(e,t,a){var l,n,i,r,s,o,d;a.r(t),a.d(t,{default:()=>c});let u=(l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},s={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},o=[i={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"DeprecatedCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[n,i],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r,{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[l],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"},{args:null,kind:"FragmentSpread",name:"OneTapSavePinWrapperQuery_pin"}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[r,d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_board"}],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[d,{args:null,kind:"FragmentSpread",name:"ItemRep_relatedInterest"}],type:"SeoRelatedInterestsData",abstractKey:null}],storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"}],type:"Story",abstractKey:null});u.hash="9469e2ed7b8fb6f17cd14012d27074e4";let c=u},907190(e,t,a){var l;a.r(t),a.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:l,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"descriptionWeight",storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDynamicContentSpan",kind:"LinkedField",name:"dynamicHeaderContentSpan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null},{alias:null,args:null,concreteType:"StoryPaddingDisplay",kind:"LinkedField",name:"padding",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"left",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="fdcfb1974fef7a407e59109dac717247";let i=n},209198(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],type:"Board",abstractKey:null};l.hash="228c9215d3c4adae6df47a885b46738e";let n=l},953213(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredFeedPinRep_parentPin"}],type:"Pin",abstractKey:null};l.hash="9573d9edc526dd9f6d96807f041a0b18";let n=l},12205(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"ItemRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"StructuredFeedPinRep_pin"}],type:"Pin",abstractKey:null};l.hash="96a93041627ef227cdc3d5307fb9c8bf";let n=l},926927(e,t,a){var l;a.r(t),a.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_relatedInterest",selections:[{alias:"image_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'image(spec:"236x")'},{alias:"image_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:l,storageKey:'image(spec:"474x")'},{alias:"klpUrl",args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"SeoRelatedInterestsData",abstractKey:null};n.hash="5b5a0a839fbf3fe4f1cbdd049446a9fd";let i=n},458431(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ItemRep_story",selections:[{args:null,kind:"FragmentSpread",name:"StructuredFeedPinRep_story"}],type:"Story",abstractKey:null};l.hash="4a000bdc407a64d5446d7c674b9f47e7";let n=l},458041(e,t,a){var l,n;a.r(t),a.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OneTapSavePinWrapperQuery_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n],storageKey:'images(spec:"236x")'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},l],storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="540254f242b57ec111d9f2340a59f648";let r=i},13848(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredFeedPinRep_parentPin",selections:[{args:null,kind:"FragmentSpread",name:"UnifiedPinRepVariant_parentPin"}],type:"Pin",abstractKey:null};l.hash="36a75a329f0b57037239fba2bdc5c96f";let n=l},467688(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"},{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedPinRep_pin",selections:[{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepVariant_pin"}],type:"Pin",abstractKey:null};l.hash="a0b83ef0faa85d7242e3e8ed78a86e60";let n=l},602074(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredFeedPinRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinsDisplay",storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shopSource",storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};l.hash="92e1ce9d44dabb135e89c4ac9f5fb59c";let n=l},921706(e,t,a){a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCarouselModuleLogic_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null}],type:"Story",abstractKey:null};l.hash="26d497a1a073c7fe8235181600b7ab05";let n=l},614477(e,t,a){a.d(t,{D:()=>l});let l=new Set(["featured_boards","recipe_video","beauty_video"])},997285(e,t,a){a.d(t,{A:()=>s});var l=a(97407),n=a(296540),i=a(328138),r=a(474848);function s({hovered:e,rounding:t}){return(0,n.useEffect)(()=>{(0,l.A)("ShoppingRepOverlay","/app/common/react/components/shopping/YourShop/ShoppingRepOverlay.tsx")},[]),(0,r.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgb(51 51 51 / 0.8)"}},display:e?"block":"none",height:"100%",left:!0,opacity:20,position:"fixed",rounding:t,top:!0,width:"100%",zIndex:new i.rk(1)})}},507861(e,t,a){a.d(t,{A:()=>c});var l=a(97407),n=a(296540),i=a(328138),r=a(632321),s=a(28245),o=a(643357),d=a(568677),u=a(474848);function c({auxData:e,buttonSizeOverride:t,buttonText:a,component:c,contentIds:p,element:g,imageWidth:h,onClick:m,previewImageSrc:y,shape:f="square",storyId:_,storyType:x,url:b,view:v,viewParameter:S,dataTestId:j}){(0,n.useEffect)(()=>{(0,l.A)("ActionItemRep","/app/packages/StructuredFeed/ItemReps/ActionItemRep/ActionItemRep.tsx")},[]);let w=(0,d.qJ)(),k=(0,s.D2)(),{logContextEvent:I}=(0,r.o)(),A=(0,o.A)(),F=(0,n.useMemo)(()=>!Number.isNaN(v)&&!Number.isNaN(S)&&!Number.isNaN(c)&&!Number.isNaN(g),[v,S,c,g]),T=t||("string"==typeof h?"lg":h>135&&h<=150?"md":h<=135?"sm":"lg");return(0,n.useEffect)(()=>{F&&I({event_type:120,view_type:v,view_parameter:S,component:c,element:g,aux_data:{content_ids:p,story_id:_,story_type:x,...e}})},[e,p,I,v,S,c,g,F,_,x]),(0,u.jsx)(i.az,{"data-test-id":"sf-action-item-rep",children:(0,u.jsx)(i.az,{color:"secondary",height:h,overflow:"hidden",rounding:"square"===f?400:"circle",width:h,children:(0,u.jsx)(i.n1,{height:"100%",rounding:"square"===f?400:"circle",wash:!0,width:"100%",children:(0,u.jsx)(i._V,{alt:A.bt("Action item rep preview image", "Action Item Rep Preview Image", "actionItemRep.image", undefined, true),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,src:y,children:(0,u.jsx)(i.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,top:!0,width:"100%",children:(0,u.jsx)(i.vx,{color:k?"secondary":"tertiary",dataTestId:j,href:b,onClick:()=>{F&&I({event_type:w?101:102,view_type:v,view_parameter:S,component:c,element:g,aux_data:{content_ids:p,story_id:_,story_type:x,...e}}),m?.()},size:T,text:a})})})})})})}},930963(e,t,a){a.d(t,{A:()=>B});var l=a(97407),n=a(296540),i=a(278106),r=a(328138),s=a(632321),o=a(547055),d=a(706397),u=a(997285),c=a(998345),p=a(643357),g=a(917815),h=a(588628),m=a(474848);function y({item:e={},imagePlaceholderColor:t=g.OU,onTap:a,shrink:i=!1}){(0,n.useEffect)(()=>{(0,l.A)("CategoryBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/CategoryBubble.tsx")},[]);let s=(0,p.A)(),o=e?.cover_images?.[0],d=o?.["236x"],y=i?c.rt/2-16:c.rt;return(0,m.jsx)(r.Rp,{onTap:a,children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(h.e,{children:({hovered:e,onMouseEnter:a,onMouseLeave:l})=>(0,m.jsx)(r.az,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:a,onMouseLeave:l,children:(0,m.jsxs)(r.n1,{height:y,rounding:"circle",wash:!0,width:y,children:[(0,m.jsx)(u.A,{hovered:e,rounding:"circle"}),d?.url&&(0,m.jsx)(r._V,{alt:s.bt("Image previewing contents of an item", "Image previewing contents of an item", "itemRep.userRep.previewImage", undefined, true),color:t,fit:"cover",naturalHeight:y,naturalWidth:y,src:d.url})]})})}),e?.title?.format&&(0,m.jsx)(r.az,{width:y,children:(0,m.jsx)(r.KJ,{align:"center",weight:"bold",children:e.title.format})})]})})}var f=a(331829),_=a(361300),x=a(654410),b=a(828368),v=a(568677);let S=["170x","192x","200x","236x"];var j=a(435845);let w={7:"magnifying-glass"};var k=a(534955);let I="rgba(17,17,17,0.4)",A="rgba(0,0,0,0)",F=Math.floor(261/173*100),T="pill",R={backgroundColor:"rgba(0, 0, 0, 0.4)"},z={backgroundColor:"rgba(0, 0, 0, 0.6)"};var P=a(780910),C=a(179675),K=a(523146),D=a(866553);let M={1:"start",2:"center"},E=()=>{},L={2:y,3:function({item:e={},onTap:t}){(0,n.useEffect)(()=>{(0,l.A)("NavigationBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/NavigationBubble.tsx")},[]);let a=(0,p.A)(),{icon:i,text:s}=function(e,t){switch(e){case 2:return{icon:"circles-status-all",text:t.bt("Categories", "Categories", "NavigationBubble.NavigationIcon.utils", undefined, true)};case 3:return{icon:"shopping-bag",text:t.bt("Stores", "Stores", "ExploreArticleRep.NavigationBubble.utils", undefined, true)};case 4:return{icon:"terms",text:t.bt("Your items", "Your items", "ExploreArticleRep.NavigationBubble.utils", undefined, true)};default:return{icon:null}}}(e?.identifier_icon_type,a);return(0,m.jsx)(r.Rp,{onTap:t,rounding:i?500:T,tapStyle:"compress",children:(0,m.jsx)(h.e,{children:({active:t,hovered:a,onMouseEnter:l,onMouseLeave:n,onFocus:o,onBlur:d})=>(0,m.jsxs)(r.az,{"data-test-id":"navigation-bubble",onBlur:d,onFocus:o,onMouseEnter:l,onMouseLeave:n,rounding:500,children:[i&&(0,m.jsxs)(r.n1,{height:85,rounding:500,wash:!0,width:85,children:[(0,m.jsx)(u.A,{hovered:a}),(0,m.jsx)(r.az,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,m.jsx)(r.In,{accessibilityLabel:s||"",color:"default",icon:i,size:32})})]}),s&&(0,m.jsx)(r.az,{marginTop:2,width:85,children:(0,m.jsx)(r.KJ,{align:"center",weight:"bold",children:s})}),!i&&!s&&e?.title?.format&&(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:e.aux_fields?.button_background_color}},rounding:T,children:(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:t&&"rgba(0, 0, 0, 0.15)"||a&&"rgba(0, 0, 0, 0.06)"||void 0}},padding:4,rounding:T,children:(0,m.jsx)(r.KJ,{align:"center",color:e.aux_fields?.button_text_color==="#ffffff"?"inverse":"default",weight:"normal",children:(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},maxWidth:c.rt-16,overflow:"hidden",children:e.title.format})})})})]})})})},1:function({item:e={},shrink:t,onTap:a}){(0,n.useEffect)(()=>{(0,l.A)("SearchBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/SearchBubble.tsx")},[]);let i=(0,v.qJ)(),s=!t,o="100%",d=s?.75:.4,u=i||s?400:300,c=i||s?400:300,p=e?.cover_images?.[0],g=p?.["236x"],y=(!i||s)&&4||3;return(0,m.jsx)(r.Rp,{onTap:a,rounding:u,tapStyle:"compress",children:(0,m.jsx)(h.e,{children:({hovered:t,onMouseEnter:a,onMouseLeave:l})=>(0,m.jsx)(r.az,{"data-test-id":"search-bubble",onMouseEnter:a,onMouseLeave:l,position:"relative",rounding:u,children:(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${100*d}%`}},position:"relative",top:!0,width:o,children:(0,m.jsx)(r.az,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(r.n1,{height:"100%",rounding:c,width:o,children:g?.url&&(0,m.jsxs)(r._V,{alt:"",fit:"cover",naturalHeight:g?.height,naturalWidth:g?.width,role:"presentation",src:g.url,children:[(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:t?z:R},height:"100%",width:"100%"}),(0,m.jsx)(r.az,{alignItems:i&&s?"end":"center",display:"flex",height:"100%",justifyContent:i&&s?"start":"center",padding:y,position:"absolute",top:!0,width:o,children:e?.title?.format&&(0,m.jsx)(r.KJ,{align:i&&s?"start":"center",color:"light",weight:"bold",children:e.title.format})})]})})})})})})})},4:function({item:e,onTap:t,slotIndex:a}){(0,n.useEffect)(()=>{(0,l.A)("StyleBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/StyleBubble.tsx")},[]);let{action:i,aux_fields:s,cover_images:o,dominant_colors:d,title:u}=e;if(!u||!o||!i)return null;let c=o.length<=0?[{}]:o.slice(0,2);return(0,m.jsx)(r.Rp,{onTap:t,rounding:400,tapStyle:"compress",children:(0,m.jsxs)(r.az,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:258,justifyContent:"center",overflow:"hidden",position:"relative",rounding:400,width:K.I,children:[(0,m.jsx)(r.so,{children:c.map((e,t)=>{let l=e["474x"]?.url||e["736x"]?.url||e["236x"]?.url;return l&&(0,m.jsx)(r.n1,{height:258,wash:!0,width:K.I/c.length,children:(0,m.jsx)(r._V,{alt:"",color:(d||[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:l})},`styleCarousel_bubble${a}_pin${t}`)})}),(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:s?.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,m.jsx)(r.KJ,{align:"center",weight:"bold",children:(0,m.jsx)("span",{style:{color:s?.button_text_color,margin:"0"},children:u.format})})})]})})},13:({item:e={},onTap:t})=>{(0,n.useEffect)(()=>{(0,l.A)("DefaultBrandArticle","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/DefaultBrandArticle.tsx")},[]);let a=(0,p.A)(),i=(0,v.qJ)(),s=e.action?.url;if(!s)return null;let o=e.curator||{},d=o.full_name||"",u=o.username||"",g=o.image_medium_url||"",h=o.verified_identity?.verified||!1,y=o.is_verified_merchant||!1,[j={},w={}]=e.cover_images||[],k=(0,f.A)({images:j,resolutionPreferences:S})?.url||"",I=(0,f.A)({images:w,resolutionPreferences:S})?.url||"",A=i?c.rt:c.LB;return(0,m.jsxs)(r.az,{"data-test-id":"default-brand-article",width:A,children:[(0,m.jsx)(r.$A,{accessibilityLabel:"",href:s,onTap:t,rounding:300,children:(0,m.jsxs)(r.az,{height:157,children:[(0,m.jsx)(r.n1,{height:157,rounding:400,wash:!0,width:A,children:k&&I&&(0,m.jsxs)(r.so,{children:[(0,m.jsx)(_.A,{height:157,src:k,width:A/2}),(0,m.jsx)(r.az,{color:"default",width:1}),(0,m.jsx)(_.A,{height:157,src:I,width:A/2})]})}),(0,m.jsx)(r.az,{display:"flex",justifyContent:"center",marginTop:-8,children:(0,m.jsx)(x.A,{color:"gray",fullName:d||u,size:64,src:g||""})})]})}),(0,m.jsx)(r.az,{height:40}),d&&(0,m.jsx)(b.A,{isVerifiedIdentity:h,isVerifiedMerchant:y,name:d}),(0,m.jsx)(r.az,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:2,width:"100%",children:(0,m.jsx)(r.vx,{accessibilityLabel:a.bt("Navigate to a feed of products from this brand", "Navigate to a feed of products from this brand", "StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.linkAccessibilityLabel", undefined, true),href:s,size:"lg",text:a.bt("Shop", "Shop", "StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.ButtonText", undefined, true)})})]})},19:function({item:e,onTap:t,story:a}){(0,n.useEffect)(()=>{(0,l.A)("TriplePreviewDisplayCard","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/TriplePreviewDisplayCard.tsx")},[]);let i=(0,v.qJ)(),{action:s,cover_images:o,dominant_colors:d,title:u,subtitle:c}=e,p=u?.format;if(!p||!o||!s)return null;let g=i?200:150,h=c?.format||"",y=o.slice(0,3),_=M[a?.display_options?.header_display?.text_alignment||2];return(0,m.jsx)(r.Rp,{onTap:t,rounding:400,tapStyle:"compress",children:(0,m.jsxs)(r.az,{"data-test-id":"triple-preview-display-card",rounding:400,width:"100%",children:[(0,m.jsx)(r.n1,{height:g,rounding:400,wash:!0,width:"100%",children:(0,m.jsx)(r.so,{alignItems:"stretch",justifyContent:"start",children:y.map((e,t)=>{let a=(0,f.A)({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||"";return(0,m.jsx)(r.az,{height:g,width:i?`${100/y.length}%`:D.fS,children:(0,m.jsx)(r._V,{alt:"",color:(d||[])[t],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:a})},a)})})}),(0,m.jsxs)(r.az,{paddingX:2,paddingY:3,children:[(0,m.jsx)(r.so,{justifyContent:_,children:(0,m.jsx)(r.KJ,{align:_,size:"400",weight:"bold",children:p})}),h&&(0,m.jsx)(r.az,{display:"flex",justifyContent:_,marginTop:1,children:(0,m.jsx)(r.KJ,{align:_,color:"subtle",size:i?"200":"100",children:h})})]})]})})},20:function({item:e,onTap:t}){(0,n.useEffect)(()=>{(0,l.A)("StackedCollageDisplayCard","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/StackedCollageDisplayCard.tsx")},[]);let a=(0,v.qJ)(),{action:i,cover_images:s,aux_fields:o,title:d,subtitle:u,dominant_colors:c=[]}=e,p=d?.format||"",{background_color:g}=o||{};if(!p||!s||!i||!g)return null;let h=a?C.R:C.W,y=a?186:160,_=a?126:108,x=a?137:118,b=a?92:80,S=u?.format||"",j=s.slice(0,3).map(e=>(0,f.A)({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||""),w=(0,P.N9)(g)?"light":"dark";return(0,m.jsx)(r.Rp,{onTap:t,rounding:400,tapStyle:"compress",children:(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:g}},"data-test-id":"stacked-collage-display-card",height:h,overflow:"hidden",rounding:400,width:h,children:(0,m.jsxs)(r.az,{height:h,padding:2,position:"relative",children:[(0,m.jsxs)(r.az,{marginBottom:3,marginTop:4,children:[(0,m.jsx)(r.so,{justifyContent:"center",children:(0,m.jsx)(r.KJ,{align:"center",color:w,lineClamp:1,size:"400",weight:"bold",children:p})}),S&&(0,m.jsx)(r.az,{display:"flex",justifyContent:"center",marginTop:1,children:(0,m.jsx)(r.KJ,{align:"center",color:w,lineClamp:1,size:"100",children:u?.format})})]}),(0,m.jsx)(r.az,{bottom:!0,left:!0,position:"absolute",children:(0,m.jsx)(r.n1,{height:x,rounding:400,wash:!0,width:b,children:(0,m.jsx)(r.az,{height:x,width:b,children:(0,m.jsx)(r._V,{alt:"",color:c[1],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:j[1]})})})}),(0,m.jsx)(r.az,{bottom:!0,position:"absolute",right:!0,children:(0,m.jsx)(r.n1,{height:x,rounding:400,wash:!0,width:b,children:(0,m.jsx)(r.az,{height:x,width:b,children:(0,m.jsx)(r._V,{alt:"",color:c[2],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:j[2]})})})}),(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{bottom:"-22px"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,m.jsx)(r.n1,{height:y,rounding:400,wash:!0,width:_,children:(0,m.jsx)(r.az,{height:y,width:_,children:(0,m.jsx)(r._V,{alt:"",color:c[0],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:j[0]})})})})]})})})},21:function({item:e,itemWidthHeightRatio:t,slideWidth:a=252,onTap:i}){(0,n.useEffect)(()=>{(0,l.A)("ImageAndTitleRep","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/ImageAndTitleRep.tsx")},[]);let{cover_images:s,dominant_colors:o,title:d}=e;if(!d||!s)return null;let u=Math.min(a*(t||.75),240);return(0,m.jsx)(r.Rp,{onTap:i,rounding:400,tapStyle:"compress",children:(0,m.jsxs)(r.az,{color:"default",elevation:"shadowFloating",height:u,marginBottom:4,overflow:"hidden",position:"relative",rounding:400,width:a,children:[(0,m.jsx)(r.so,{alignItems:"stretch",direction:"row",height:u,justifyContent:"start",width:a,children:s.map(e=>e["236x"]?.url&&(0,m.jsx)(r.az,{height:u,width:a/s.length,children:(0,m.jsx)(r._V,{alt:"",color:(o||[])[0],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e["236x"].url,children:(0,m.jsx)(r.az,{alignItems:"end",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",height:"100%",width:"100%"})})},e["236x"].url))}),(0,m.jsx)(r.az,{bottom:!0,marginBottom:3,marginStart:3,position:"absolute",children:(0,m.jsx)(r.KJ,{align:"start",color:"light",size:"300",weight:"bold",children:d.format})})]})})},10:function({item:e,onTap:t}){(0,n.useEffect)(()=>{(0,l.A)("MultiImageArticle","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/MultiImageArticle.tsx")},[]);let a=(0,p.A)(),{isRTL:i}=(0,k._8)(),{hovered:s,onMouseEnter:o,onMouseLeave:d}=(0,h.A)(),{action:u,cover_images:c,dominant_colors:g,title:y,subtitle:_}=e,x=y?.format;if(!x||!c||!u)return null;let b="blended_module_type_topics_board_recs"===e.story_type?a.bt("Ideas for your board", "Ideas for your board", "pinFeedCard.singleBoard.subtitle", undefined, true):_?.format||"",v=c.slice(0,4);return(0,m.jsx)(r.Rp,{onMouseEnter:o,onMouseLeave:d,onTap:t,tapStyle:"compress",children:(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:s?I:A,border:s?"2px solid #FFFFFF":"2px solid #CDCDCD"}},"data-test-id":"multi-image-article-display-card",marginBottom:0,rounding:400,width:"100%",children:(0,m.jsxs)(r.az,{marginBottom:5,marginEnd:5,marginStart:5,marginTop:5,children:[(0,m.jsxs)(r.az,{display:"flex",marginBottom:1,marginEnd:2,marginStart:2,children:[(0,m.jsx)(r.az,{display:"block",lgDisplay:"none",mdDisplay:"block",smDisplay:"block",children:(0,m.jsx)(r.KJ,{size:"200",children:b})}),(0,m.jsx)(r.az,{display:"none",lgDisplay:"block",mdDisplay:"none",smDisplay:"none",children:(0,m.jsx)(r.KJ,{size:"300",children:b})})]}),s&&(0,m.jsx)(r.az,{left:i,marginEnd:5,marginTop:5,position:"absolute",right:!i,top:!0,children:(0,m.jsx)(r.$n,{size:"lg",text:a.bt("See more", "See more", "pinFeedCard.singleBoardModal.buttonText", undefined, true)})}),(0,m.jsxs)(r.az,{display:"flex",marginBottom:3,marginEnd:2,marginStart:2,children:[(0,m.jsx)(r.az,{display:"block",lgDisplay:"none",mdDisplay:"block",smDisplay:"block",children:(0,m.jsx)(r._Y,{accessibilityLevel:3,size:"600",children:x})}),(0,m.jsx)(r.az,{display:"none",lgDisplay:"block",mdDisplay:"none",smDisplay:"none",children:(0,m.jsx)(r._Y,{accessibilityLevel:3,size:"700",children:x})})]}),(0,m.jsx)(r.n1,{rounding:300,children:(0,m.jsxs)(r.so,{alignItems:"stretch",justifyContent:"start",children:[(0,m.jsx)(r.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:s?I:A}},left:!0,position:"absolute",right:!0,top:!0}),v.map((e,t)=>{let a=(0,f.A)({images:e,resolutionPreferences:["200x","236x","400x"]})?.url||"",l=(0,f.A)({images:e,resolutionPreferences:["200x"]})?.url,n=(0,f.A)({images:e,resolutionPreferences:["474x"]})?.url,i=(0,f.A)({images:e,resolutionPreferences:["736x"]})?.url,o=[l?`${l} 1x`:"",n?`${n} 2x`:"",i?`${i} 3x`:""].filter(Boolean).join(", ");return(0,m.jsx)(r.VP,{span:3,children:(0,m.jsxs)(r.so,{children:[t>0&&(0,m.jsx)(r.az,{color:"default",width:2}),(0,m.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:`${F}%`}},position:"relative",width:"100%",children:(0,m.jsxs)(r.az,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,m.jsx)(r.n1,{height:"100%",wash:!0,width:"100%",children:(0,m.jsx)(r._V,{alt:"",color:(g||[])[t],fit:"cover",naturalHeight:261,naturalWidth:173,role:"presentation",src:a,srcSet:o})}),(0,m.jsx)(r.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:s?I:A}},left:!0,position:"absolute",right:!0,top:!0})]})},a)]})},`img-display-box-${a}`)})]})})]})})})},34:function({item:e,onTap:t,slotIndex:a}){(0,n.useEffect)(()=>{(0,l.A)("IconAndTextBubble","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/IconAndTextBubble.tsx")},[]);let[i,s]=(0,n.useState)(!1),o=(0,p.A)();if(!e)return null;let{identifier_icon_type:d,title:u}=e||{},c=d&&(0,j.A)(w,d)?w[d]:null,g=(0,f.A)({images:(e.cover_images||[])[0]||{},resolutionPreferences:["170x","236x","474x","564x","736x","orig"]}),h=!!c,y=!h&&!!g&&!!g.url;return(0,m.jsx)(r.Rp,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onTap:t,role:"button",rounding:y?400:300,tapStyle:"none",children:(0,m.jsxs)(r.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:i?"#dadada":"var(--sema-color-background-wash-scrims-opaque)"}},display:"flex",height:y?80:43,overflow:"hidden",paddingX:y?1:2,rounding:300,children:[h&&(0,m.jsx)(r.az,{marginEnd:2,children:(0,m.jsx)(r.In,{accessibilityLabel:o.bt("Related search link", "Related search link", "RelatedSearch.searchIcon.accessibilityLabel", undefined, true),icon:c})}),y&&(0,m.jsx)(r.az,{height:72,marginEnd:4,rounding:300,width:72,children:(0,m.jsx)(r.n1,{height:72,rounding:300,width:72,children:(0,m.jsx)(r._V,{alt:"",color:(e.dominant_colors||[])[0],fit:"cover",naturalHeight:g.height||1,naturalWidth:g.width||1,role:"presentation",src:g.url})})}),(0,m.jsx)(r.az,{marginEnd:4,children:(0,m.jsx)(r.KJ,{align:"start",lineClamp:y?2:1,children:u.format})})]})},`icon-and-text-bubble-${a}`)}};function B(e){(0,n.useEffect)(()=>{(0,l.A)("ExploreArticleRep","/app/packages/StructuredFeed/ItemReps/ExploreArticleRep/ExploreArticleRep.tsx")},[]);let{auxData:t,component:a,slotIndex:u,item:c,showExpandedHeader:p,story:g,view:h,viewParameter:f}=e,{display_options:_,story_type:x,id:b,content_ids:v,tracking_params:S}=g||{},{aux_fields:j}=c||{},{query:w}=j||{},{logContextEvent:k}=(0,s.o)(),I=(0,i.Zp)(),A=c?.id;c&&(c.story_type=x);let F=(0,n.useMemo)(()=>({story_type:x,story_id:b,content_ids:v,article_id:A,query:w,...t}),[A,t,v,b,w,x]),T=(0,n.useMemo)(()=>({...F,module_image_signature:function(e){if(!e)return;let t=e.cover_images?.[0],a=t?.originals?.url||t&&Object.values(t)[0]?.url;return a?(0,o.A)(a):void 0}(c)||null}),[F,c]),R=(0,d.bi)({componentType:a,contextLogData:F,impressionType:"Article",loggingId:A,objectIdStr:A,slotIndex:u,viewParameter:f,viewType:h}),z=p?_?.item_view_rep_style?.expanded_explore_article_rep_style:_?.item_view_rep_style?.explore_article_rep_style,{action:P}=c||{},{url:C=""}=P||{},K=Object.hasOwnProperty.call(L,z)?L[z]:y,D=p?E:()=>{I(C),k({event_type:101,component:a,view_type:h,view_parameter:f,aux_data:T,clientTrackingParams:S})},M=_?.num_columns_requested===1;return(0,m.jsx)(r.az,{ref:R,children:(0,m.jsx)(K,{...e,onTap:D,shrink:M})})}},179675(e,t,a){a.d(t,{R:()=>n,W:()=>l});let l=216,n=258},523146(e,t,a){a.d(t,{I:()=>l});let l=369},866553(e,t,a){a.d(t,{NC:()=>n,fS:()=>l,wY:()=>i});let l=108,n=324,i=372},320650(e,t,a){a.d(t,{On:()=>i,c6:()=>n,xA:()=>l});let l=299,n=270,i=232},859096(e,t,a){a.d(t,{A:()=>_});var l=a(97407),n=a(296540),i=a(328138),r=a(632321),s=a(9463);function o(e,t,a){return{backgroundColor:`rgba(${e.join(", ")}, ${a||t?s.Dp:s.Ho})`,marginRight:t?"2px":"0px",marginLeft:t?"2px":"0px"}}var d=a(320650),u=a(474848);let c={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}};function p({fanOut:e,card:t,index:a,size:r,rounding:s}){let o;(0,n.useEffect)(()=>{(0,l.A)("PinCard","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/PinCard.tsx")},[]);let d=c[r],{height:p=d.HEIGHT_PX,url:g,width:h=d.WIDTH_PX,colorRGB:m,opacity:y}=t;return g?o=(0,u.jsx)(i._V,{alt:g,fit:"cover",naturalHeight:p,naturalWidth:h,src:g}):m&&y&&(o=(0,u.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:`rgba(${m.join(", ")}, ${y})`}},height:d.HEIGHT_PX,width:d.WIDTH_PX})),(0,u.jsx)(i.az,{dangerouslySetInlineStyle:{__style:((e,t,a)=>{let l;switch(a){case"MOBILE":l={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":l={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":l={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:l={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}let n=l[e];return n.border="1px solid #FFFFFF",n.transition="all 150ms ease-out",n})(a,e,r)},position:"absolute",rounding:s??500,children:(0,u.jsx)(i.n1,{height:d.HEIGHT_PX,rounding:500,wash:!0,width:d.WIDTH_PX,children:o})})}function g(){return(0,n.useEffect)(()=>{(0,l.A)("WrapperWash","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/WrapperWash.tsx")},[]),(0,u.jsx)(i.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}},left:!0,position:"absolute",right:!0,rounding:s.UK,top:!0})}var h=a(586021),m=a(568677);let y={1:function(e){(0,n.useEffect)(()=>{(0,l.A)("ListItemCard","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/ListItemCard.tsx")},[]);let{pinCards:t,isClicked:a,isHovered:r,item:c={},story:y}=e,f=(0,m.qJ)(),_=(0,h.A)(),x=y&&y.objects?.length,{board_name:b,header_text:v,top_image_dominant_color_rgb:S}=c,j=a?106:110,w=a?d.xA-4:d.xA;f||(j=90,w=1===x?"100%":_?d.On:d.c6);let k=155;return f||(k=_?108:148),(0,u.jsxs)(i.az,{dangerouslySetInlineStyle:{__style:o(S,a,r)},display:"flex",height:j,paddingY:2,position:"relative",rounding:s.UK,width:w,children:[(0,u.jsx)(g,{}),(0,u.jsx)(i.az,{position:"relative",width:f?112:100,children:t.map((e,t)=>(0,u.jsx)(p,{card:e,fanOut:r||a,index:t,size:f?"SMALL":"MOBILE"},t))}),(0,u.jsxs)(i.az,{direction:"column",display:"flex",justifyContent:"center",marginStart:f?2:3,width:k,children:[(0,u.jsx)(i.KJ,{size:f?"200":"100",children:v}),(0,u.jsx)(i.KJ,{lineClamp:2,size:"400",weight:"bold",children:b})]})]})},3:function(e){(0,n.useEffect)(()=>{(0,l.A)("ListItemCardSquare","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/ListItemCardSquare.tsx")},[]);let{pinCards:t,isClicked:a,isHovered:r,item:d}=e,{board_name:c,top_image_dominant_color_rgb:h}=d;return(0,u.jsxs)(i.az,{alignItems:"end",dangerouslySetInlineStyle:{__style:o(h,a,r)},display:"flex",height:a?165:169,justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:s.UK,width:a?232:236,children:[(0,u.jsx)(g,{}),t.map((e,t)=>(0,u.jsx)(p,{card:e,fanOut:r||a,index:t,size:"DEFAULT"},t)),(0,u.jsx)(i.KJ,{align:"center",lineClamp:1,size:"200",weight:"bold",children:c})]})},4:function(e){(0,n.useEffect)(()=>{(0,l.A)("ListItemFeedCard","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/ListItemFeedCard.tsx")},[]);let{logContextEvent:t}=(0,r.o)(),{pinCards:a,isHovered:d,item:c,view:h,viewParameter:m}=e,{action:y,board_name:f,header_text:_,ideas_deep_link_url:x,top_image_dominant_color_rgb:b}=c,v=y?.url??x.concat("?ideas_referrer=25");return(0,u.jsxs)(i.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:o(b,!1,d)},direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,paddingX:4,paddingY:8,position:"relative",rounding:s.UK,width:236,children:[a.map((e,t)=>(0,u.jsx)(p,{card:e,fanOut:d,index:t,size:"LARGE"},t)),(0,u.jsx)(i.az,{height:168,width:"100%"}),(0,u.jsx)(g,{}),(0,u.jsxs)(i.so,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,u.jsxs)(i.az,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,marginTop:5,children:[(0,u.jsx)(i.az,{marginBottom:1,children:(0,u.jsx)(i.KJ,{size:"200",weight:"bold",children:_})}),(0,u.jsx)(i.KJ,{align:"center",size:"400",weight:"bold",children:f})]}),(0,u.jsx)(i.az,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,u.jsx)(i.vx,{color:"tertiary",href:v,onClick:({event:e})=>{e.stopPropagation(),t({event_type:101,view_type:h,view_parameter:m,component:14268,element:13002,object_id_str:c.board_id})},size:"lg",text:"Explore"})})]})]})}},f=["100%","60%"];function _(e){(0,n.useEffect)(()=>{(0,l.A)("MoreIdeasRep","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/MoreIdeasRep.tsx")},[]);let{component:t,isInViewOrNext:a,item:{action:o,board_id:d,ideas_deep_link_url:c,images:p,image_dominant_color_rgb:g},slotIndex:h,story:_={},view:x,viewParameter:b}=e,{logContextEvent:v}=(0,r.o)(),S=(0,m.Ay)(),{display_options:j,objects:w}=_,k=w?.length,[I,A]=(0,n.useState)(!1),[F,T]=(0,n.useState)(!1),[R,z]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if("desktop"===S){let e=setTimeout(()=>z(!0),700);return()=>{clearTimeout(e)}}},[S]);let P=[],C="desktop"!==S?s.O5:s.Tj;(a||"desktop"!==S)&&(P=R?[...p[C]]:[p[C][0]]);let K=3-P.length;for(let e=0;e<K;e+=1)P.push({colorRGB:g,opacity:f[e]});P.reverse();let D=j?.item_view_rep_style?.more_ideas_rep_style,M=y[D],E=t||s.ZP[D],L=o?.url??c.concat("?ideas_referrer=25");return M&&(0,u.jsx)(i.$A,{href:L,onMouseDown:()=>T(!0),onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),onTap:()=>v({event_type:101,view_type:x,view_parameter:b,component:E,element:13002,object_id_str:d,aux_data:{index:h,total_object_count:k}}),children:(0,u.jsx)(M,{isClicked:F,isHovered:I,pinCards:P,...e})})}},9463(e,t,a){a.d(t,{Dp:()=>r,Ho:()=>i,O5:()=>o,Tj:()=>s,UK:()=>l,ZP:()=>d,rR:()=>n});let l=400,n=400,i=.35,r=.5,s="170x",o="136x136",d={1:14114,3:14074,4:14268}},430309(e,t,a){a.d(t,{A:()=>T});var l,n,i,r=a(97407),s=a(296540);a(234784);var o=a(278106),d=a(328138),u=a(698781),c=a(998345),p=a(622165),g=a(962058),h=a(534955),m=a(315212),y=a(221077),f=a(568677),_=a(342394),x=a(558367),b=a(325447),v=a(474848);let S=(void 0!==l||(l=a(467688)).hash&&"a0b83ef0faa85d7242e3e8ed78a86e60"!==l.hash&&console.error("The definition of 'StructuredFeedPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),j=(void 0!==n||(n=a(13848)).hash&&"36a75a329f0b57037239fba2bdc5c96f"!==n.hash&&console.error("The definition of 'StructuredFeedPinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),w=(void 0!==i||(i=a(602074)).hash&&"92e1ce9d44dabb135e89c4ac9f5fb59c"!==i.hash&&console.error("The definition of 'StructuredFeedPinRep_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),k=new Set(["product_tagged_shopping_module_upsell"]),I=new Set(["recipe_video","p2p_recipe_video","beauty_video"]),A=new Set([90,139]),F=new Set(["board_shop_tool_module","shopping_module_closeup","product_pins","shopping_list","shop_tab_upsell"]);function T(e){var t;(0,s.useEffect)(()=>{(0,r.A)("StructuredFeedPinRep","/app/packages/StructuredFeed/ItemReps/PinRep/StructuredFeedPinRep.tsx")},[]);let{pins_display:a}=(0,y.A)((0,o.zy)().search),{auxData:l,parentPinKey:n,component:i,forcedHover:T,hidePinBetterSaveDropdown:R,imageWidth:z=c.rt,isInDesktopCarousel:P,isInMobileCarousel:C,item:K,itemWidthHeightRatio:D,pinKey:M,productTagParentPinId:E,resolution:L,saveButtonOptions:B,slideWidth:O=c.LB,slotIndex:W,surface:U,storyKey:H,view:V,viewParameter:N}=e,$=(0,u.A)(j,n),J=(0,u.A)(S,M),X=J||K,q=(0,u.A)(w,H),{isAuthenticated:G}=(0,h._8)(),Y="desktop"===(0,f.Ay)(),{checkExperiment:Q}=(0,p.A)(),Z=(0,b.A)(Q,"structured_feed");if(!X)return null;let{storyType:ee,containerType:et,storyId:ea,contentIds:el,displayOptions:en,user:ei}=q||{},er=en?.contentDisplay?.pinsDisplay,es=D??en?.contentDisplay?.itemWidthHeightRatio,{debug:eo}=X,ed=J?.entityId||K?.id,eu=J?.trackingParams||K?.tracking_params,ec=![3,1,2].includes(er??Number(a))||!I.has(ee)&&A.has(et),ep={story_type:ee,story_id:ea,content_ids:el,grid_index:W,pin_id:ed,...l},eg=U&&["ShoppingGridSmallCarousel"].includes(U)?U:q?.storyType&&["recipe_video","p2p_recipe_video","beauty_video"].includes(q.storyType)?"VideoCarouselModule":q?.displayOptions?.contentDisplay?.pinsDisplay===2&&90===q.containerType&&q?.displayOptions?.contentDisplay?.gridLayout?.cols!==-1?"ShoppingCarousel":q?.shopSource||F.has(q?.storyType)||q?.displayOptions?.contentDisplay?.pinsDisplay===2?q?.storyType==="search_3p_ad_only_module"?"SearchAdsOnlyModule":"ShoppingDynamicHeightGrid":U||"StoryFeedNonProduct",{width:eh,height:em}="string"==typeof(t=Y?z:O)?{width:t,height:ec?t:void 0}:ec?{width:t,height:t}:es?{width:t,height:t*es}:{width:void 0,height:void 0},ey={auxData:ep,componentType:en?.contentDisplay?.componentType??i,isInFullWidthStory:q?.displayOptions?.contentDisplay?.gridLayout?.cols===-1,impressionData:ep,pinId:ed,slotIndex:W,trackingParams:eu,viewData:{pin_id:ed},viewParameter:N,viewType:V??3},ef={disableHover:!Y,forcedHover:T,hidePinBetterSaveDropdown:R,pinImageCrop:eh&&em?{width:eh,height:em}:null,pinOwner:k.has(ee)?ei??K?.pinner??K?.native_creator??K?.origin_pinner??null:null,parentPinKey:$,productTagParentPinId:E,resolution:L,saveButtonOptions:B,surface:eg},e_={duploDisablePinCardPadding:C,duploIsSquarePin:(!Y||!G)&&ec,pinKey:J,isInDesktopCarousel:!!P,trafficSource:["ShoppingDynamicHeightGrid","SearchAdsOnlyModule"].includes(eg)?"shop_feed":void 0},ex=(0,v.jsxs)(d.az,{"data-grid-item":"true","data-test-id":g.lH,children:[(0,v.jsx)(_.Y,{...ey,...ef,...e_}),eo&&(0,v.jsx)(m.f,{data:eo})]}),eb=Z?(0,v.jsx)(x.A,{children:ex}):ex;return ec?(0,v.jsx)(d.az,{flex:"none",width:eh,children:eb},ed):eb}},361300(e,t,a){a.d(t,{A:()=>s});var l=a(97407),n=a(296540),i=a(328138),r=a(474848);function s({height:e,width:t,src:a}){return(0,n.useEffect)(()=>{(0,l.A)("PreviewImage","/app/packages/StructuredFeed/ItemReps/UserRep/PreviewImage.tsx")},[]),(0,r.jsx)(i.az,{height:e,width:t,children:(0,r.jsx)(i._V,{alt:"",color:"lightGray",fit:"cover",naturalHeight:e,naturalWidth:t,role:"presentation",src:a})})}},820616(e,t,a){a.d(t,{A:()=>_});var l=a(97407),n=a(296540),i=a(278106),r=a(328138),s=a(632321),o=a(706397),d=a(998345),u=a(654410),c=a(828368),p=a(917815),g=a(474848);let h=.4*d.rt,m=.75*d.rt;var y=a(361300);let f={5:({item:e,imagePlaceholderColor:t=p.OU})=>{(0,n.useEffect)(()=>{(0,l.A)("AvatarUserRep","/app/packages/StructuredFeed/ItemReps/UserRep/AvatarUserRep.tsx")},[]);let{username:a,image_large_url:i,full_name:s,is_verified_merchant:o=!1,verified_identity:h}=e;return(0,g.jsxs)(r.az,{width:d.rt,children:[(0,g.jsx)(r.az,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,g.jsx)(u.A,{color:t,fullName:s||a,size:120,src:i||""})}),s&&(0,g.jsx)(c.A,{isVerifiedIdentity:!!h?.verified,isVerifiedMerchant:o,name:s})]})},1:({item:e={},story:t,imagePlaceholderColor:a=p.OU})=>{(0,n.useEffect)(()=>{(0,l.A)("SinglePreviewUserRep","/app/packages/StructuredFeed/ItemReps/UserRep/SinglePreviewUserRep.tsx")},[]);let{username:i,image_large_url:s,full_name:o,id:f,is_verified_merchant:_=!1,verified_identity:x}=e,b=t?.custom_properties?.preview_image_map?.[f]?.[0]||"";return(0,g.jsxs)(r.az,{height:d.rt,width:d.rt,children:[(0,g.jsx)(r.n1,{height:m,rounding:400,wash:!0,width:d.rt,children:(0,g.jsx)(y.A,{height:d.rt,src:b,width:d.rt})}),(0,g.jsx)(r.az,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,g.jsx)(u.A,{color:a,fullName:o||i,size:h,src:s||""})}),o&&(0,g.jsx)(c.A,{isVerifiedIdentity:!!x?.verified,isVerifiedMerchant:_,name:o})]})},2:({item:e={},story:t})=>{(0,n.useEffect)(()=>{(0,l.A)("DoublePreviewUserRep","/app/packages/StructuredFeed/ItemReps/UserRep/DoublePreviewUserRep.tsx")},[]);let{username:a,image_large_url:i,full_name:s,id:o,is_verified_merchant:p=!1,verified_identity:f}=e,[_="",x=""]=t?.custom_properties?.preview_image_map?.[o]||[];return(0,g.jsxs)(r.az,{width:d.rt,children:[(0,g.jsxs)(r.az,{height:d.rt,children:[(0,g.jsx)(r.n1,{height:m,rounding:400,wash:!0,width:d.rt,children:(0,g.jsxs)(r.so,{children:[(0,g.jsx)(y.A,{height:d.rt,src:_,width:d.rt/2}),(0,g.jsx)(r.az,{color:"default",width:2}),(0,g.jsx)(y.A,{height:d.rt,src:x,width:d.rt/2})]})}),(0,g.jsx)(r.az,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,g.jsx)(u.A,{color:"gray",fullName:s||a,size:h,src:i||""})})]}),s&&(0,g.jsx)(c.A,{isVerifiedIdentity:!!f?.verified,isVerifiedMerchant:p,name:s})]})}};function _(e){(0,n.useEffect)(()=>{(0,l.A)("UserRep","/app/packages/StructuredFeed/ItemReps/UserRep/UserRep.tsx")},[]);let{logContextEvent:t}=(0,s.o)(),a=(0,i.Zp)(),{story:d={},slotIndex:u,auxData:c,component:p,view:h,viewParameter:m,item:y}=e,_=f[d.display_options?.item_view_rep_style?.user_rep_style||5],x=(0,n.useMemo)(()=>({story_type:d.story_type,story_id:d.id,content_ids:d.content_ids,user_id:y.id,...c}),[y,d,c]),b=(0,o.bi)({contextLogData:x,impressionType:"User",loggingId:y.id,objectIdStr:y.id,slotIndex:u,viewParameter:m,viewType:h});return _?(0,g.jsx)(r.Rp,{ref:b,onTap:()=>{t({event_type:101,view_type:h,view_parameter:m,component:p,aux_data:x}),a(`/${y.username}`)},children:(0,g.jsx)(_,{...e})}):null}},654410(e,t,a){a.d(t,{A:()=>c});var l=a(97407),n=a(296540),i=a(328138),r=a(997285),s=a(643357),o=a(327467),d=a(588628),u=a(474848);function c({color:e,fullName:t,size:a,src:c}){(0,n.useEffect)(()=>{(0,l.A)("UserRepImage","/app/packages/StructuredFeed/ItemReps/UserRep/UserRepImage.tsx")},[]);let p=(0,s.A)();return(0,u.jsx)(d.e,{children:({hovered:l,onMouseEnter:n,onMouseLeave:s})=>(0,u.jsx)(i.az,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:n,onMouseLeave:s,children:(0,u.jsxs)(i.n1,{height:a,rounding:"circle",wash:!0,width:a,children:[(0,u.jsx)(r.A,{hovered:l,rounding:"circle"}),(0,u.jsx)(i._V,{alt:(0,o.vQ)(p.bt("Logo of {{ fullName }}", "Logo of {{ fullName }}", "itemRep.userRep.brandLogo", undefined, true),{fullName:t}).join(""),color:e,naturalHeight:a,naturalWidth:a,src:c})]})})})}},828368(e,t,a){a.d(t,{A:()=>o});var l=a(97407),n=a(296540),i=a(328138),r=a(964205),s=a(474848);function o({name:e,isVerifiedIdentity:t,isVerifiedMerchant:a}){return(0,n.useEffect)(()=>{(0,l.A)("UserRepName","/app/packages/StructuredFeed/ItemReps/UserRep/UserRepName.tsx")},[]),(0,s.jsxs)(i.so,{alignContent:"center",alignItems:"stretch",gap:1,justifyContent:"center",children:[e&&(0,s.jsx)(i.KJ,{inline:!0,weight:"bold",children:e}),(0,s.jsx)(r.A,{isVerifiedIdentity:t,isVerifiedMerchant:a,size:"sm"})]})}},113465(e,t,a){a.d(t,{A:()=>A});var l,n,i,r,s,o=a(97407),d=a(296540);a(234784);var u=a(328138),c=a(275552),p=a(698781),g=a(930963),h=a(859096),m=a(430309),y=a(820616),f=a(570305),_=a(682048),x=a(503903);function b(e){return new URL(`${"ssl"===e.headers["x-forwarded-protocol"]||"https"===e.headers["x-forwarded-proto"]||"https"===e.headers["original-proto"]?"https":"http"}://${e.headers.host}${e.url}`).pathname}var v=a(474848);let S=(void 0!==l||(l=a(12205)).hash&&"96a93041627ef227cdc3d5307fb9c8bf"!==l.hash&&console.error("The definition of 'ItemRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),j=(void 0!==n||(n=a(953213)).hash&&"9573d9edc526dd9f6d96807f041a0b18"!==n.hash&&console.error("The definition of 'ItemRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),w=(void 0!==i||(i=a(209198)).hash&&"228c9215d3c4adae6df47a885b46738e"!==i.hash&&console.error("The definition of 'ItemRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),k=(void 0!==r||(r=a(926927)).hash&&"5b5a0a839fbf3fe4f1cbdd049446a9fd"!==r.hash&&console.error("The definition of 'ItemRep_relatedInterest' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),I=(void 0!==s||(s=a(458431)).hash&&"4a000bdc407a64d5446d7c674b9f47e7"!==s.hash&&console.error("The definition of 'ItemRep_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function A(e){(0,d.useEffect)(()=>{(0,o.A)("ItemRep","/app/packages/StructuredFeed/ItemReps/utils/ItemRep.tsx")},[]);let{parentPinKey:t,pinKey:a,boardKey:l,relatedInterestKey:n,item:i,storyKey:r,...s}=e,A=(0,p.A)(j,t),F=(0,p.A)(S,a),T=(0,p.A)(w,l),R=(0,p.A)(k,n),z=(0,p.A)(I,r),P=(0,f.A)(),C=(0,c.A)(),{slotIndex:K,view:D,viewParameter:M,story:E,...L}=s,B=null;if(z?B=z:E&&(B={type:"Legacy",data:E}),F)if(F?.entityId&&D)return(0,v.jsx)(m.A,{...L,item:i,parentPinKey:A,pinKey:F,slotIndex:K,storyKey:B});else return null;if(T){if(T?.entityId&&D)return(0,v.jsx)(u.az,{marginBottom:2,marginTop:2,width:s.imageWidth,children:(0,v.jsx)(_.default,{...s,auxData:s.auxData,boardKey:T,isCollaboratorsAttributionVisible:!0,isUsingMask:!0,showFollowButton:!1,slotIndex:K,type:"full",viewObjectIdStr:T.entityId,viewParameter:M??void 0,viewType:D})})}else if(R){let e=R.image_236x?[{"236x":{url:R.image_236x[0]?.url}}]:void 0,t=R.image_474x?[{"474x":{url:R.image_474x[0]?.url}}]:void 0,a=D??442,l=R.klpUrl??"";return(0,v.jsx)(x.A,{height:80,images:e||t||[],lineClamp:4,onTap:()=>{C({event_type:102,component:39,element:216,object_id_str:l,view_type:a,view_parameter:M??3897,aux_data:{current_page_url:b}}),P({action:"click",item:"related-interests"})},title:R.name??"",url:l,viewParameter:M??3897,viewType:a,width:250})}else switch(i?.type){case"pin":return(0,v.jsx)(m.A,{...L,item:i,parentPinKey:A,pinKey:null,slotIndex:K,storyKey:B});case"user":return(0,v.jsx)(y.A,{...s,item:i});case"board":return(0,v.jsx)(u.az,{marginBottom:2,marginTop:2,width:s.imageWidth,children:(0,v.jsx)(_.default,{...s,auxData:s.auxData,boardKey:{type:"Legacy",data:i},isAttributionHeightUnfixed:!0,isCollaboratorsAttributionVisible:!0,showFollowButton:!1,slotIndex:K,type:"full",viewParameter:M??void 0,viewType:D??5})});case"board_more_ideas_feed_upsell":return(0,v.jsx)(h.A,{...s,item:i});case"explorearticle":return(0,v.jsx)(g.A,{...s,item:i});case"interest":return(0,v.jsx)(x.A,{height:80,images:i.imageWidth&&i.imageUrl?[{[`${i.imageWidth}x`]:{url:i.imageUrl}}]:[],lineClamp:4,onTap:i.handleClick,title:i.name??"",url:i.url??"",viewParameter:3897,viewType:D??442,width:250});default:return null}}},917815(e,t,a){a.d(t,{JV:()=>i,OU:()=>n,PV:()=>r});var l=a(430309);let n="lightGray",i=8,r={itemRep:l.A,shape:"square",getImage:()=>""}},292357(e,t,a){a.r(t),a.d(t,{default:()=>X});var l,n,i=a(97407),r=a(296540),s=a(671468);a(234784);var o=a(328138),d=a(23704),u=a(614477),c=a(632321),p=a(586209),g=a(55268),h=a(391972),m=a(698781),y=a(998345),f=a(643357),_=a(622165),x=a(507861),b=a(179675),v=a(523146),S=a(866553),j=a(9463),w=a(320650),k=a(113465),I=a(840256),A=a(695037),F=a(87840),T=a(792637),R=a(586021),z=a(899397),P=a(211974),C=a(568677),K=a(588628),D=a(243042),M=a(578566),E=a(596026),L=a(606261),B=a(440776),O=a(983686),W=a(628844),U=a(291119),H=a(275386),V=a(474848);let N=(void 0!==l||(l=a(951936)).hash&&"9469e2ed7b8fb6f17cd14012d27074e4"!==l.hash&&console.error("The definition of 'DeprecatedCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),$=(void 0!==n||(n=a(432510)).hash&&"ba117249c9ffc02340353f2c3b5e4f5f"!==n.hash&&console.error("The definition of 'DeprecatedCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function J({moduleWidth:e,totalObjectCount:t,gutterWidth:a,defaultItemWidth:l,paddingX:n=0}){return Math.min(t,Math.floor((e-n+a)/(l+a)))}function X(e){let t,a,l;(0,r.useEffect)(()=>{(0,i.A)("DeprecatedCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/DeprecatedCarouselModule.tsx")},[]);let{auxData:n,accessibilityLabelledBy:X,addContentRight:q,allowHover:G,carouselSlidersContextLogData:Y={},component:Q,componentFallback:Z,contentVisibleItemCountOverride:ee,dangerouslySetActionUrl:et,disableHeader:ea,disableTransition:el,enablePageScrollOverride:en,fadeCarouselEdges:ei,handleActionButtonClick:er,hidePinBetterSaveDropdown:es,impressionType:eo,initialSlideIndex:ed=0,initialSlotIndex:eu=0,itemWidth:ec,itemWidthHeightRatio:ep,productTagParentPinId:eg,resolution:eh,saveButtonOptions:em,setSlideIndexOverride:ey,slideIndexOverride:ef,itemRepSiblingNodeFactories:e_,parentPinKey:ex,story:eb,storyKey:ev,styleOverrides:eS,surface:ej,view:ew,viewParameter:ek,width:eI,rows:eA,headerDisplayOptions:eF}=e,{experimentalColumnWidth:eT}=(0,p.A)(),{peekCloseupEnabled:eR,viewportSize:ez}=(0,D._G)(),eP=(0,d.Kd)({peekCloseupEnabled:eR,viewportSize:ez,surface:ej}),eC=ev&&"GraphQL"===(0,h.z)(ev),eK=(0,m.A)($,ex),eD=(0,m.A)(N,ev),eM=(0,W.X)(),[eE,eL]=(0,r.useState)(ed),eB=ef??eE,eO=ey??eL,eW=(0,r.useRef)(null),[eU,eH]=(0,r.useState)(null),eV=(0,z.A)(),eN=(0,R.A)(),e$=(0,C.Ay)(),eJ=(0,C.bh)(e$),eX=(0,C.Pg)(e$),[eq,eG]=(0,r.useState)(!1),eY=(0,f.A)(),{checkExperiment:eQ}=(0,_.A)(),eZ=(0,r.useCallback)(e=>{e?.parentElement&&eH(e?.parentElement)},[]),e0=(0,s.d4)(({boards:e})=>e[eb?.aux_fields?.board_id]),e1=(0,P.CG)(),{logContextEvent:e2}=(0,c.o)(),e4=eU?.clientWidth??0,[e3,e6]=(0,r.useState)(0),e7=(0,H.A)();(0,r.useEffect)(()=>{if(eU){let e=eU.getBoundingClientRect().left;0===e3&&e>0&&e6(e)}},[eU,e4,e3]);let{isAdsOnlySearchModule:e5,isBoardShopToolModule:e8,isProductRetrievalModule:e9,isRecipeVideoModule:te,isP2PRecipeVideoModule:tt,isHfShoppingModule:ta,isMasonryStoryItem:tl,showModuleBorder:tn,showExtraSmallSubtitle:ti,headerMarginTop:tr,headerMarginX:ts,headerMarginBottom:to,carouselPaddingX:td,isBoardShopToolMasonryModule:tu}=(0,A.A)({storyKey:eD,storyLegacy:eb||void 0,styleOverrides:eS});if(!eD?.objects)return null;let tc=eD.displayOptions?.contentDisplay?.componentType??Z,tp=ei||eD.displayOptions?.carouselFadeEnds===1,tg=eD.objects.length,th={carouselSlots:eD.objects.filter(e=>null!==e).map(e=>{let t,a;switch(e.__typename){case"Pin":t=e.title,a=e.entityId;break;case"Story":a=e.storyId,t=e.storyTitle?.format;break;case"Board":a=e.entityId,t=e.name;break;case"BoardMoreIdeasFeedUpsell":a=e.boardMoreIdeasFeedUpsellId,t=e.boardMoreIdeasFeedUpsellName;break;case"User":a=e.entityId,t=e.username;break;case"ExploreArticle":a=e.entityId,t=e.exploreArticleTitle?.format}return{title:t,id:a}}),entityId:"",index:eB},tm=eD.action?.text,ty=eD.action?.url,tf=eD.action?.location,t_=et??ty,tx={backgroundColor:"secondary",hoverColor:"secondary",iconColor:"subtle",size:32},tb=eD.displayOptions?.itemViewRepStyle?.moreIdeasRepStyle,tv=null!=tb?j.ZP[tb]:null,tS=eD.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===4,tj=eD.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===21,tw=eD.displayOptions?.contentDisplay?.componentType===13698,tk=14339===tc,tI=eD.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===19,tA=eD.displayOptions?.itemViewRepStyle?.exploreArticleRepStyle===20,tF=eD.displayOptions?.headerDisplay?.expandedTextAlignment!==null,tT=eD.displayOptions?.headerDisplay?.thumbnail?.thumbnailUrl&&eD.displayOptions?.headerDisplay?.thumbnail?.thumbnailWidth,tR=en??eD.displayOptions?.contentDisplay?.carouselScrollingMode===3,tz="recommended_boards_module"===eD.storyType,tP="related_interests_module"===eD.storyType,tC=eD.displayOptions?.contentDisplay?.carouselDisplayOptions?.navigationType,tK=eJ&&(0===tC&&!eP||tz||tP),tD=eJ&&1===tC,tM=ta&&eQ("dweb_hf_shopping_module_scroll_pagination").anyEnabled,tE=!!(eD.storyType&&u.D.has(eD.storyType)||tM),tL=eS?.headerMarginTop??tr,tB=eS?.headerMarginBottom??to,tO=eS?.headerMarginX??ts,tW=eS?.carouselPaddingX??td,tU=eS?.gutterWidth??y.UP,tH={backgroundColor:"default",borderStyle:"shadow",hoverColor:"default",iconColor:"default",moduleHovered:G&&eq,showFab:!0,size:eS?.navigationFabSize??(tl||e8||e9?32:void 0),opacity:eS?.navigationFabOpacity},{mobile:tV,web:tN}=eD.displayOptions?.contentDisplay?.contentVisibleItemCount||{},t$=eT||y.rt,tJ=eV?y.LB:t$;if(eJ){let e=eD.displayOptions?.contentDisplay?.gridLayout?.cols,n="recently_viewed"===eD.storyType&&eQ("web_recently_viewed_responsive").anyEnabled,i=!tE&&(!e||-1===e||n||e9),r=tn?2*y.Rv:0;a="number"==typeof(t=eI??e4)?t-r:void 0,l=i?void 0:ee||tN}else a="number"==typeof(t=eI)?t:void 0,l=ee||(eX?tN:tV);tE&&!l&&tR&&(l=J({moduleWidth:a||0,totalObjectCount:tg,gutterWidth:tU,defaultItemWidth:tJ,paddingX:tW}));let tX=(()=>{if(te){let{group:e}=eQ("dweb_recipe_video_module_ui_iteration");if(e.includes("enabled_medium"))return 1.13;if(e.includes("enabled_large"))return 1.26}return 1})(),tq=ec??(({defaultItemWidth:e,contentVisibleItemCount:t,moduleWidth:a=0,gutterWidth:l,isMoreIdeasListCard:n,isPeekCloseupLargeShoppingModule:i,isStyleBubble:r,isImageAndTitleRep:s,isStorefrontSpotlightCarousel:o,isSmallMobileScreen:u,widthMultiplier:c=1,isStackedCollageDisplayCard:p,isTriplePreviewDisplayCard:g,containerWidth:h,isProductRetrievalModule:m,totalObjectCount:f,deviceType:_,storyType:x})=>{let j=(0,C.bh)(_);if(i)return d.aP;if(m)return y.mg;if(g)return"user_style_story_v2"===x&&t&&a?(0,y.iA)({defaultItemWidth:e,contentVisibleItemCount:Math.min(t,J({moduleWidth:a,totalObjectCount:f,gutterWidth:l,defaultItemWidth:1.5*e})+.5),gap:l,moduleWidth:a}):j?S.wY:S.NC;if(p)return j?b.R:b.W;if(n)return j?w.xA:1===f?h||0:u?w.On:w.c6;if(r)return v.I;if(s){if(x?.includes("related_search")&&a){let t=J({moduleWidth:a,totalObjectCount:f,gutterWidth:l,defaultItemWidth:e});return t>=f?(0,y.iA)({defaultItemWidth:e,contentVisibleItemCount:f,gap:l,moduleWidth:a}):(0,y.iA)({defaultItemWidth:e,contentVisibleItemCount:Math.max(2.25,t+.25),gap:l,moduleWidth:a})}return 252}return o?362:t&&a?(0,y.iA)({defaultItemWidth:e,contentVisibleItemCount:t,gap:l,moduleWidth:a})*c:e*c})({defaultItemWidth:tJ,containerWidth:e4,contentVisibleItemCount:l,moduleWidth:a,gutterWidth:tU,isMoreIdeasListCard:1===tb,isPeekCloseupLargeShoppingModule:eP,isStyleBubble:tS,isImageAndTitleRep:tj,isStorefrontSpotlightCarousel:tw,isSfModuleOnMobile:eV,isSmallMobileScreen:eN,widthMultiplier:tX,isProductRetrievalModule:e9,totalObjectCount:tg,isStackedCollageDisplayCard:tA,isTriplePreviewDisplayCard:tI,deviceType:e$,fadeCarouselEdges:ei,storyType:eD.storyType||""});1!==tX&&(l=J({moduleWidth:a||0,totalObjectCount:tg,gutterWidth:tU,defaultItemWidth:tq,paddingX:tW}));let tG=tR&&l?Math.max(Math.min(Math.floor(l),tg),0):void 0,tY=eP?d.Yc:tq,tQ=ep??eD.displayOptions?.contentDisplay?.itemWidthHeightRatio,tZ=tQ?tq*tQ:void 0,t0=eD.objects.filter(e=>null!==e),t1=(0,O.Jf)({isHorizontalScrollable:e5,slotWidth:tq,containerWidth:e4||0,gap:tU,numberOfSlides:t0.length,index:eB,paddingX:tW,rows:eA}),t2=e8?{board_id:e0?.id,board_session_id:eM}:void 0,t4=eS?.carouselContainerMarginBottom??(tK&&!tn?8:0),t3="boolean"==typeof eS?.showPagination?eS.showPagination:!!te&&!!eQ("dweb_recipe_video_module_ui_iteration").anyEnabled||!!tt||!!tM,t6=(e,t)=>{if(t===t0.length-1&&eD.action&&tm&&t_&&(0,I.bV)(eD.action)&&!eP){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,V.jsx)(x.A,{auxData:t2,buttonSizeOverride:eS?.buttonSizeOverride,buttonText:tm,component:tc,contentIds:eD.contentIds??void 0,dataTestId:"shop-action-item-button",element:179,imageWidth:tY,onClick:er,previewImageSrc:t,storyId:eD.storyId??"",storyType:eD.storyType,url:t_.toString(),view:ew,viewParameter:ek},`pin-ActionItemRep-${e.entityId}`)}let a=null;eC||eb?.objects==null||(a="Pin"===e.__typename?eb.objects.find(t=>"pin"===t.type&&t.id===e.entityId):"Story"===e.__typename?eb.objects.find(t=>"story"===t.type&&t.id===e.storyId):"Board"===e.__typename?eb.objects.find(t=>"board"===t.type&&t.id===e.entityId):"BoardMoreIdeasFeedUpsell"===e.__typename?{...a=eb.objects.find(t=>"board_more_ideas_feed_upsell"===t.type&&t.id===e.boardMoreIdeasFeedUpsellId),header_text:eY.bt("More ideas for", "More ideas for", "moreIdeasBoardRepCarousel.carousel.headText", undefined, true)}:"User"===e.__typename?eb.objects.find(t=>"user"===t.type&&t.id===e.entityId):"ExploreArticle"===e.__typename?eb.objects.find(t=>"explorearticle"===t.type&&t.id===e.entityId):eb.objects[t]);let l=`pin-ActionItemRep-${e.__typename}-${t}`;if(eb?.display_options?.pin_display_options?.quick_save_icon===1&&e0&&"Pin"===e.__typename)return(0,V.jsx)(U.A,{eventContext:{component:15088,element:14583,viewParameter:ek,viewType:ew||5},onDelete:()=>{e2({event_type:3,component:15088,element:14583,view_parameter:ek,view_type:ew||5,aux_data:t2})},onSave:()=>{e1.showOneToast(()=>(0,V.jsx)(g.A,{duration:3e3,onHide:()=>{},text:eY.bt("Saved! Refresh to see your new Pins", "Saved! Refresh to see your new Pins", "boardShopTool.refreshBoardToast.text", undefined, true)}))},pinKey:e,surface:ej,target:{board:e0},children:({save:i,unsave:r,saved:s,savedInfo:o})=>(0,V.jsx)(k.A,{auxData:{...t2,module_id:e.entityId,pin_column_index:t,...n},boardKey:null,component:Q,imageWidth:tY,isInMobileCarousel:!eJ,isInViewOrNext:(0,O.KJ)({slotWidth:tq,containerWidth:e4||0,gap:tU,numberOfSlides:t0.length,index:t,currentIndex:eB,paddingX:tW}),item:a,itemWidthHeightRatio:tQ,pinKey:eC&&"Pin"===e.__typename?e:null,productTagParentPinId:eg,relatedInterestKey:null,saveButtonOptions:{save:i,unsave:r,saved:s,savedInfo:{...o,boardId:e0.id,pinId:e.entityId,title:e0.name,url:e0.url},type:"persistentOneClickSave"},slideWidth:tq,slotIndex:eu+t,story:eb??void 0,surface:ej,view:ew,viewParameter:ek},l)});let i=eK?.collectionPin?.itemData?.find(t=>t.pinId===("Pin"===e.__typename?e.entityId:null)),r=i&&i?.source,s=r===I.tw,d=tk?{has_auto_tags:s,root_pin_id:eg,...r?{source:r}:{}}:{},u=()=>(0,V.jsx)(k.A,{auxData:{pin_id:"Pin"===e.__typename?e.entityId:null,...d,...n},boardKey:eC&&"Board"===e.__typename?e:null,component:Q,hidePinBetterSaveDropdown:es,imageWidth:tY,isInDesktopCarousel:eJ,isInMobileCarousel:!eJ,isInViewOrNext:(0,O.KJ)({slotWidth:tq,containerWidth:e4||0,gap:tU,numberOfSlides:t0.length,index:t,currentIndex:eB,paddingX:tW}),item:a,itemWidthHeightRatio:tQ,parentPinKey:eK,pinKey:null,productTagParentPinId:eg,relatedInterestKey:eC&&"SeoRelatedInterestsData"===e.__typename?e:null,resolution:eh,saveButtonOptions:em,slideWidth:tq,slotIndex:eu+t,story:eb??void 0,surface:ej,view:ew,viewParameter:ek},l);return e_?(0,V.jsx)(K.e,{children:({hovered:e,...a})=>{let n=e_?.[t];return(0,V.jsxs)(o.az,{position:"relative",children:[u(),n?.({hovered:e,...a})]},l)}},l):u()};return(0,V.jsxs)(o.az,{ref:eZ,borderColor:tn?"decorative":void 0,borderWidth:tn?"lg":void 0,direction:"column",display:"flex",overflow:tn?"hidden":void 0,rounding:tn?400:void 0,width:t,children:[eD.storyTitle&&!ea&&(0,V.jsx)(o.az,{marginBottom:tT||!eJ?2:3,marginTop:tL,paddingX:tO,children:(0,V.jsx)(T.A,{auxData:t2,headerDisplayOptions:eF,marginBottomOverride:tB,showExpanded:tF,showExtraSmallSubtitle:ti,storyKey:eD})}),(0,V.jsxs)(o.az,{"aria-labelledby":X,as:"section",children:[(0,V.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{...e5?{marginLeft:`${-e3+e7}px`,marginRight:`${-e3+e7}px`}:{},...tQ&&{"--story-item-width-height-ratio":`${1/tQ}`}}},marginBottom:t4,onFocus:()=>eG(!0),onMouseEnter:()=>eG(!0),onMouseLeave:()=>eG(!1),position:"relative",children:[tK&&(0,V.jsx)(L.A,{backNode:(0,V.jsx)(B.A,{...tH,iconType:"back"}),carouselData:th,carouselIndex:eB,componentType:tc,contextLogData:tb?{index:eB}:Y,forwardNode:(0,V.jsx)(B.A,{...tH,iconType:"forward"}),handleCarouselSwipe:e=>{let t=0;tz&&(t=Math.max(0,J({moduleWidth:e4,totalObjectCount:tg,gutterWidth:tU,defaultItemWidth:tq,paddingX:tW})-1)),tu&&(t=2),e9&&(t=3),e>eB?eO(e+t):eO(e-t),eW.current&&e5&&(0,O.UV)(eW,e5,e,eB,tq,tU)},height:tZ,isShowingLastSlide:t1,itemsPerPage:tG,pinKey:null,sliderStyleOverride:tz?{padding:"0px 0px",margin:"0px 16px 60px"}:void 0,storyType:eD.storyType||"",viewParameter:ek,viewType:ew}),(0,V.jsxs)(M.A,{componentType:tv||void 0,containerRef:eU,contextLogData:{story_type:eD?.storyType,...Y},disableTransition:el,gap:tU,id:"structured-feed-carousel-module",impressionType:eo??(tb?"BoardMoreIdeasRep":"Pin"),index:eB,isHorizontalScrollable:e5,paddingX:tW,setSlideIndex:eL,shouldBeDragCarousel:e5||!eJ,sliderRef:eW,slideWidth:tq,styleOverrides:eS,surface:ej,view:ew,viewParameter:ek,children:[eA?(function(e){let t=[];for(let a=0;a<e.length;a+=3)t.push(e.slice(a,a+3));return t})(t0).map((e,t)=>(0,V.jsx)(o.VP,{span:1,children:e.map((a,l)=>(0,V.jsx)(o.az,{marginBottom:2*(l!==e.length-1),children:t6(a,t*eA+l)},`box-${t*eA+l}`))},`col-${t}`)):t0.map(t6),q,eP&&t_&&tm&&(0,V.jsx)(o.vx,{color:"secondary",dataTestId:"carousel--peek-shop-btn",fullWidth:!0,href:t_.toString(),onClick:er,size:"lg",text:tm},"peek-shop-btn")]}),tp&&eB>0&&!eP&&(0,V.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",left:!0,position:"absolute",top:!0,width:80}),tp&&!t1&&!eP&&(0,V.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",position:"absolute",right:!0,top:!0,width:80})]}),t3&&(0,V.jsx)(o.az,{paddingY:4,children:(0,V.jsx)(E.A,{carouselData:{carouselSlots:th.carouselSlots?.map(({id:e,title:t})=>({id:e,title:t})),entityId:th.entityId,index:th.index},carouselIndex:eB,componentType:tc,enablePagination:!0,handleCarouselSwipe:e=>{let t=2*!!tu;e>eB?eO(e+t):eO(e-t)},itemsPerPage:tG,pinKey:null,variant:"dark",viewParameter:ek,viewType:ew})}),tD&&(0,V.jsx)(o.az,{marginBottom:8,marginTop:3,position:"relative",width:"100%",children:(0,V.jsx)(L.A,{addEllipsis:!0,alwaysShowNavigationArrows:!0,backNode:(0,V.jsx)(B.A,{...tx,iconType:"back",showFab:!0}),carouselData:th,carouselIndex:eB,componentType:tc,contextLogData:tb?{index:eB}:Y,ellipsisVariant:"dark",forwardNode:(0,V.jsx)(B.A,{...tx,iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{eO(e)},isShowingLastSlide:t1,itemsPerPage:tG,pinKey:null,sliderStyleOverride:{padding:"0px",margin:"0px"},viewParameter:ek,viewType:ew})})]}),eD.action&&(0,I.im)(eD.action)&&(0,V.jsx)(o.az,{marginTop:4,children:(0,V.jsx)(F.A,{location:tf,text:tm,url:t_?.toString()})})]})}},695037(e,t,a){a.d(t,{A:()=>s}),a(234784);var l,n=a(698781),i=a(568677);let r=(void 0!==l||(l=a(921706)).hash&&"26d497a1a073c7fe8235181600b7ab05"!==l.hash&&console.error("The definition of 'useCarouselModuleLogic_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function s({storyKey:e,storyLegacy:t,styleOverrides:a}){let l=(0,n.A)(r,e),s=(0,i.qJ)(),o=l?.storyType&&["recently_viewed","recently_saved"].includes(l?.storyType),d=l?.containerType===139||l?.storyType==="stela_shop",u=l?.storyType==="search_3p_ad_only_module",c=l?.storyType==="board_shop_tool_module",p=l?.storyType==="shop_tool_saved_products_module",g=l?.storyType==="recipe_video",h=l?.storyType==="p2p_recipe_video",m=l?.storyType==="beauty_video",y=(t?.display_options?.num_columns_requested??0)>1,f=c&&!t?.custom_properties?.is_full_width,_=p||o||f||y||g||h||m,x=a?.showModuleBorder??_,b=a?.showExtraSmallSubtitle??(o||u);return{isHfShoppingModule:o,isAdsOnlySearchModule:u,isBoardShopToolModule:c,isProductRetrievalModule:p,isRecipeVideoModule:g,isP2PRecipeVideoModule:h,isBeautyVideoModule:m,isMultiColumnModuleOnSearch:y,isBoardShopToolMasonryModule:f,isMasonryStoryItem:_,showModuleBorder:x,showExtraSmallSubtitle:b,isFixedWidthSlides:s&&d,headerMarginTop:4*!!_,headerMarginX:6*!!_,headerMarginBottom:3*!!u,carouselPaddingX:16*!!_,moduleBorderStyle:d?"sm":"lg"}}},87840(e,t,a){a.d(t,{A:()=>s});var l=a(97407),n=a(296540),i=a(328138),r=a(474848);function s({url:e,text:t,location:a}){return((0,n.useEffect)(()=>{(0,l.A)("FooterModule","/app/packages/StructuredFeed/ModuleReps/FooterModule/FooterModule.tsx")},[]),1===a&&e&&t)?(0,r.jsx)(i.so,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(i.vx,{href:e,text:t})}):null}},792637(e,t,a){a.d(t,{A:()=>K});var l,n=a(97407),i=a(296540);a(234784);var r=a(278106),s=a(328138),o=a(230973),d=a(632321),u=a(194637),c=a(449798),p=a(698781),g=a(643357),h=a(622165),m=a(14622),y=a(435075),f=a(568677),_=a(964205),x=a(474848);let b={1:"start",2:"center"},v={1:"100",2:"300"},S={4:"200",1:"400",3:"600",2:"700"},j={4:"100",1:"200",3:"300",2:"400"},w={1:48,2:150},k={1:"column",2:"row"},I={0:!1,1:!0},A={4:375},F=new Set([2,4]),T={1:6},R={0:"normal",1:"bold"};function z({headerTitle:e,onClick:t,style:a,text:l,url:n}){let i=(0,g.A)();return 3!==a&&l?(0,x.jsx)(s.az,{marginStart:6,children:(0,x.jsx)(s.vx,{href:n,onClick:t,text:l})}):(0,x.jsx)(s.AR,{accessibilityLabel:e||i.bt("See more", "See more", "headerModule.headerModuleActionButton.iconButton", undefined, true),bgColor:"transparent",href:n,icon:"chevron-right",iconColor:"default",onClick:t,size:"sm"})}let P=(void 0!==l||(l=a(907190)).hash&&"fdcfb1974fef7a407e59109dac717247"!==l.hash&&console.error("The definition of 'HeaderModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function C({showExpanded:e=!1,view:t,viewParameter:a,auxData:l,storyData:n,showExtraSmallSubtitle:i,marginBottomOverride:p,lgMarginBottomOverride:g,headerDisplayOptions:P}){let C=(0,r.Zp)(),{logContextEvent:K}=(0,d.o)(),D=(0,f.qJ)(),M=(0,f.M)(),{checkExperiment:E}=(0,h.A)(),{width:L=0}=(0,o.A)()||{},B=(0,c.A)(),O=B.isAuth?B?.avatar_color_index:void 0,W=n.user?.isVerifiedMerchant||!1,U=n.user?.verifiedIdentity?.verified||!1,H=n.user?.username??null,V=n.user?.imageMediumUrl??null,N="search_3p_ad_only_module"===n.storyType,$=n.storyTitle?.format??null,J=n.subtitle?.format??null,X=n.action?.url??null,q=n.action?.text??null,G=n.action?.location??null,Y=n.action?.style??null,Q=X||H||"",Z=n.displayOptions||Object.freeze({}),ee=P||Z?.headerDisplay||Object.freeze({}),et=b[(ee&&e?ee?.expandedTextAlignment:ee?.textAlignment)||1],ea=b[ee.subtitleAlignment||1],el=v[ee?.headerSize||1],en=M?j[ee?.headerSize||1]:S[ee?.headerSize||1],ei=ee?.subtitleStyle===1?en:D&&!N?"200":"100",er=ee?.padding?.left,es=null!=er?T[er]??0:0,eo=R[ee?.descriptionWeight??1],ed=Z?.titleTextColor??"default",eu=Z?.titleTextColor??"default",ec=Z?.subtitleTextColor??"subtle",ep=ee?.titlePosition===1,eg=F.has(G)&&X,eh=eg&&("board_shop_tool_module"===n.storyType||"shop_tool_saved_products_module"),em=ee?.headerWidth?A[ee.headerWidth]:"100%",ey=k[L<=m.Dd?ee?.dynamicHeaderContentSpan?.narrowView:ee?.dynamicHeaderContentSpan?.wideView]??"row",ef=function({storyType:e,windowWidth:t}){return"no_results_header"===e&&t<=m.Dd?"start":"center"}({storyType:n.storyType,windowWidth:L}),e_=n.displayOptions?.headerDisplay?.thumbnail?.thumbnailUrl,ex=w[ee?.thumbnail?.thumbnailWidth]??0,eb=I[ee?.thumbnail?.thumbnailWash]??!0,ev="recently_viewed"===n.storyType&&E("web_recently_viewed_responsive").anyEnabled||n.storyType?.includes("related_searches")||"user_style_story_v2"===n.storyType,eS=({isLargeDisplay:e})=>(0,x.jsx)(s._Y,{accessibilityLevel:i?"none":void 0,align:ea,color:ec,size:e?String(Math.min(Number(en)+100,600)):ei,children:i?(0,x.jsx)(s.KJ,{align:N?ea:void 0,color:N?ec:"default",lineClamp:1,size:e?String(Math.min(Number(ei)+100,600)):ei,children:J}):J}),ej=()=>ev?(0,x.jsx)(y.A,{largeSizeRep:eS({isLargeDisplay:!0}),mediumSizeRep:eS({}),smallSizeRep:eS({})}):eS({}),ew=({isLargeDisplay:e})=>(0,x.jsx)(s._Y,{accessibilityLevel:2,align:et,color:ed,size:e?String(Math.min(Number(en)+100,600)):en,children:$}),ek=()=>ev?(0,x.jsx)(y.A,{largeSizeRep:ew({isLargeDisplay:!0}),mediumSizeRep:ew({}),smallSizeRep:ew({})}):ew({}),eI=()=>K({component:Z?.contentDisplay?.componentType,element:179,event_type:D?101:102,view_parameter:a,view_type:t,aux_data:l});return(0,x.jsxs)(s.az,{alignItems:ef,direction:ey,display:"flex",lgMarginBottom:g,marginBottom:void 0!==p?p:D?4:2,marginStart:es,children:[e_&&!!ex&&(0,x.jsx)(s.az,{marginEnd:2,children:e_&&(0,x.jsx)(s.n1,{height:ex*(n.displayOptions?.headerDisplay?.thumbnail?.thumbnailWidthHeightRatio||1),rounding:200,wash:eb,width:ex,children:(0,x.jsx)(s._V,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e_})})}),(0,x.jsxs)(s.so,{direction:"column",flex:em?"shrink":"grow",gap:{row:0,column:i?1:2},width:em,children:[ep&&J&&ej(),(0,x.jsxs)(s.so,{alignItems:"center",justifyContent:eh?"between":et,children:[H&&V&&(0,x.jsx)(u.eu,{color:O,name:H,size:"sm",src:V}),(0,x.jsxs)(s.so,{alignItems:"baseline",flex:e?"grow":"shrink",justifyContent:et,children:[Q?(0,x.jsx)(s.az,{"data-test-id":"sf-header-heading",children:(0,x.jsx)(s.$A,{href:Q,onTap:({event:e})=>{let t;e.stopPropagation(),eI(),t=Q.replace(/^\/+/,""),C(`/${t}`)},tapStyle:"compress",children:ek()})}):ek(),W&&(0,x.jsx)(s.az,{marginStart:2,children:(0,x.jsx)(_.A,{isVerifiedIdentity:U,isVerifiedMerchant:W,size:"xs"})})]}),eg&&(0,x.jsx)(s.az,{"data-test-id":"sf-header-action-button",children:(0,x.jsx)(z,{headerTitle:$,onClick:eI,style:Y,text:q,url:X})})]}),!ep&&J&&ej(),n.storyDescription?.format?(0,x.jsx)(s.KJ,{align:et,color:eu,size:el,weight:eo,children:n.storyDescription.format}):null]})]})}function K({storyKey:e,...t}){(0,i.useEffect)(()=>{(0,n.A)("HeaderModule","/app/packages/StructuredFeed/ModuleReps/HeaderModule/HeaderModule.tsx")},[]);let a=(0,p.A)(P,e);return(0,x.jsx)(C,{...t,storyData:a})}},435075(e,t,a){a.d(t,{A:()=>d});var l=a(97407),n=a(296540),i=a(328138),r=a(915341),s=a(474848);function o({children:e,size:t}){return(0,n.useEffect)(()=>{(0,l.A)("ResponsiveBox","/app/packages/layout/ResponsiveBox.tsx")},[]),(0,s.jsx)(i.az,{"data-test-id":r.Dt,display:"sm"===t?"block":"none",lgDisplay:"lg"===t?"block":"none",mdDisplay:"md"===t?"block":"none",smDisplay:"sm"===t?"block":"none",children:e})}function d({smallSizeRep:e,mediumSizeRep:t,largeSizeRep:a}){return(0,n.useEffect)(()=>{(0,l.A)("ScalingComponent","/app/packages/StructuredFeed/ModuleReps/utils/ScalingComponent.tsx")},[]),(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(o,{size:"sm",children:e}),(0,s.jsx)(o,{size:"md",children:t}),(0,s.jsx)(o,{size:"lg",children:a})]})}},586021(e,t,a){a.d(t,{A:()=>i});var l=a(296540),n=a(568677);function i(){let[e,t]=(0,l.useState)(!1),a=(0,n.qJ)();return(0,l.useEffect)(()=>{!a&&window.innerWidth<320&&t(!0)},[a,t]),e}},14622(e,t,a){a.d(t,{Dd:()=>i,KZ:()=>r,Sw:()=>n,VM:()=>s,cN:()=>l});let l=new Set(["BUBBLE_ONE_COL","related_query_shop_upsell_closeup"]),n=new Set(["p2p_recipe_video","beauty_video"]),i=736,r=533,s=32},899397(e,t,a){a.d(t,{A:()=>i});var l=a(230973),n=a(998345);function i(){let{width:e}=(0,l.A)()||{width:0};return e<2*n.rt+n.OY}},127896(e,t,a){a.d(t,{A:()=>o});var l=a(97407),n=a(296540),i=a(328138),r=a(727914),s=a(474848);function o({carouselData:e,contextLogData:t,height:a,id:o,index:d,slideWidth:u,view:c,impressionType:p,viewParameter:g}){(0,n.useEffect)(()=>{(0,l.A)("CarouselImpressionItem","/app/packages/gestaltExtensions/Carousel/CarouselImpressionItem.tsx")},[]);let[h,m]=(0,n.useState)(null),[y,f]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{h!==d?(m(d),f(!1)):f(!0)},[d,h]),e)?(0,s.jsx)(r.oc,{carouselData:{...e,type:"canonical"},contextLogData:t,impressionType:p??"Pin",isPaused:!y,loggingId:o,slotIndex:d,viewParameter:g,viewType:c,children:({impressionTrackerRef:e})=>(0,s.jsx)(i.az,{ref:e,"data-test-id":`carousel-impression-ref-${o}-${d}`,height:a,overflow:"hidden",position:"absolute",width:u})},`carousel-impression-key-${d}`):null}},547055(e,t,a){a.d(t,{A:()=>l});function l(e){if(!e)return"";let t=((e.split("?")[0]??"").split("#")[0]??"").split("/"),a=t[t.length-1];if(!a)return"";let l=a.lastIndexOf("."),[n]=(l>0?a.slice(0,l):a).split("--");return n??""}},91089(e,t,a){a.d(t,{A:()=>l});function l(e){let t=!1;return{promise:new Promise((a,l)=>{e.then(e=>t?l({isCanceled:!0}):a(e),e=>t?l({isCanceled:!0}):l(e))}),cancel(){t=!0}}}},331829(e,t,a){a.d(t,{A:()=>n});let l=["564x","736x","orig","474x","236x"],n=({images:e={},resolutionPreferences:t=l})=>{for(let a of t)if(e[a]&&e[a].url)return e[a];return null}},219843(e,t,a){a.d(t,{A:()=>l});function l(e,t){if(!t)return e;let a=new RegExp(/http(s?):/);if(!a.test(e)){let l=a.exec(t);l&&l.length&&(e=l[0]+e)}return e}},588628(e,t,a){a.d(t,{A:()=>r,e:()=>i});var l=a(296540);let n=()=>{let[e,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)(!1),[i,r]=(0,l.useState)(!1);return{active:e,focused:a,hovered:i,onBlur:()=>{n(!1),t(!1)},onFocus:()=>n(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function i({children:e}){return e(n())}let r=n},719561(e,t,a){a.d(t,{A:()=>i});var l=a(296540),n=a(91089);function i(){let e=(0,l.useRef)([]),t=(0,l.useRef)({});return(0,l.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(a,l){if(l){let e=t.current[l];e&&(e(),delete t.current[l])}let{cancel:i,promise:r}=(0,n.A)(a);return l?t.current[l]=i:e.current=[...e.current,i],r}}},703613(e,t,a){a.d(t,{o:()=>d,p:()=>o});var l=a(296540),n=a(697384),i=a(211243),r=a(474848);let{Provider:s,get:o}=(0,n.A)("LastSavedTo");function d({children:e}){let[t,a]=(0,l.useState)();(0,i.jY)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;a(t)}});let n=(0,l.useCallback)(e=>{let l=t?t.filter(t=>t.id!==e.id):[];a([e,...l])},[t]),o=(0,l.useMemo)(()=>({lastSavedTo:t,saveToBoard:n}),[t,n]);return(0,r.jsx)(s,{value:o,children:e})}},278789(e,t,a){a.d(t,{A:()=>i});var l=a(278106),n=a(104735);function i({hasPin:e,pinId:t,boardLayout:a,boardUrl:i}){let r=(0,l.zy)(),s=(0,l.g)(),o=(0,l.Zp)();return()=>{e&&(0,n.isCloseupPage)(r)&&s.id===t&&o("quick_saves"===a||"quick_creates"===a?"/me/":i??"/",{replace:!0})}}},578566(e,t,a){a.d(t,{A:()=>k});var l=a(97407),n=a(296540),i=a(328138),r=a(23704),s=a(228159),o=a(632321),d=a(696561),u=a(127896),c=a(998345),p=a(643357),g=a(706397),h=a(542098),m=a(327467),y=a(534955),f=a(871211),_=a(243042),x=a(474848);function b({index:e,length:t,showBadge:a}){return(0,n.useEffect)(()=>{(0,l.A)("CarouselBadge","/app/www/common/Carousel/CarouselBadge.tsx")},[]),(0,x.jsx)(i.az,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:80*!!a,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:200,width:35,zIndex:new i.rk(1),children:(0,x.jsx)(i.KJ,{color:"inverse",children:`${(e??0)+1}/${t}`})})}var v=a(983686),S=a(925177),j=a(275386);let w=`
  .horizontal-scroll-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }`;function k(e){let t;(0,n.useEffect)(()=>{(0,l.A)("Carousel","/app/www/common/Carousel/Carousel.tsx")},[]);let{backgroundColor:a="transparent",children:k,componentType:I,containerRef:A,contextLogData:F,disableTransition:T,gap:R=0,height:z,id:P,impressionType:C,index:K,responsiveSizing:D=!1,shouldBeDragCarousel:M,showCarouselBadge:E,styleOverrides:L,innerCarouselWidthRef:B,slideWidth:O,surface:W,paddingX:U,view:H,viewParameter:V,widthRatio:N=1,setSlideIndex:$,sliderRef:J,showCarouselOverflow:X,isHorizontalScrollable:q}=e,{showBadge:G}=(({index:e})=>{let[t,a]=(0,n.useState)(!0),l=(0,n.useRef)(void 0),i=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>(l.current=setTimeout(()=>{a(!1)},3e3),()=>{clearTimeout(l.current)}),[]),(0,n.useEffect)(()=>{if(!i.current){i.current=e;return}clearTimeout(l.current),a(!0)},[e]),{showBadge:t}})({index:K}),{logContextEvent:Y}=(0,o.o)(),Q=(0,S.HR)()(P),Z=(0,p.A)(),{isRTL:ee}=(0,y._8)(),et=(0,n.useRef)(void 0),ea=(0,n.useRef)(null),el=(0,n.useRef)(0),en=(0,n.useRef)(void 0),ei=(0,j.A)(),{peekCloseupEnabled:er,viewportSize:es}=(0,_._G)();if((0,f.A)(()=>{let e=ea.current;if(!e)return;J&&e&&(J.current=e);let t=()=>{let e=el.current;if(q){let t=new IntersectionObserver(([a])=>{let l=-(a.boundingClientRect.x??0),i=n.Children.toArray(k),r=J?(0,v.jV)(J.current,l+ei,O,N,R,i.length):0;$?.(r),Math.abs(e-l)>=10&&Y({aux_data:{...F},component:I,event_type:"right"==(e<l?"right":"left")?9315:9316,view_type:H,view_parameter:V}),el.current=l,en.current&&t.unobserve(en.current)});en.current&&t.observe(en.current)}else{let t=-(en.current?.getBoundingClientRect().x??0);Math.abs(e-t)>=10&&Y({aux_data:{...F},component:I,event_type:"right"==(e<t?"right":"left")?9315:9316,view_type:H,view_parameter:V}),el.current=t}};return M&&(q&&e?.addEventListener("scroll",t),e?.addEventListener("touchend",t)),()=>{M&&(q&&e?.removeEventListener("scroll",t),e?.removeEventListener("touchend",t))}}),N>1||N<0)throw Error("widthRatio should be between 0 and 1 inclusive");let eo=Math.floor(O*N),ed=n.Children.toArray(k),eu=ed.length*eo,ec=A?.clientWidth||eu,{maxHeight:ep,fiftyPercentHeight:eg,fiftyPercentWidth:eh}=(0,r.Vc)(),em=er&&"lg"===es&&"ShoppingGridSmallCarousel"===W;er&&(t="sm"===es?eg:ep);let ey=L?.justifyContent??(ec>eu?"center":"start"),ef=e=>void 0!==e?`${e}px`:M?`${c.cP}px`:void 0,e_=ef(L?.horizontalScrollContainerPaddingLeft),ex=ef(L?.horizontalScrollContainerPaddingRight);B&&(B.current="center"===ey?ea.current:null);let eb=D||M?void 0:(0,v.oz)({slotWidth:eo,gap:R,numberOfSlides:ed.length,index:K,containerWidth:ec,paddingX:U});return(0,x.jsxs)("div",{className:"BoardMoreIdeasRep"===C?"moreIdeasBoardRepCarousel":"",style:D?{height:"inherit"}:{},children:[(0,x.jsxs)(i.az,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",height:D?"inherit":void 0,justifyContent:ey,overflow:em||X?void 0:"hidden",children:[E&&(0,x.jsx)(b,{index:K,length:ed.length,showBadge:G}),"BoardMoreIdeasRep"!==C&&(0,x.jsx)(s.P,{pinKey:null!=Q?{type:"Legacy",data:Q}:null,children:e=>(0,x.jsx)(u.A,{carouselData:{...e,type:"canonical"},contextLogData:F,height:z??et.current?.clientHeight??1,id:P,impressionType:"Pin",index:K,slideWidth:O,view:H??1,viewParameter:V??72},`carousel-impression-key-${K}`)}),M&&(0,x.jsx)(h.A,{unsafeCSS:w}),(0,x.jsx)("div",{ref:ea,className:"horizontal-scroll-container","data-test-id":"carousel-container",style:{backgroundColor:a,overflowX:M?"scroll":"visible",paddingLeft:e_,paddingRight:ex,display:"flex",flexDirection:L?.flexDirection??"row",height:D?"inherit":void 0,marginLeft:U?`${U}px`:void 0,marginRight:U?`${U}px`:void 0,position:"relative",scrollbarWidth:0,transition:M||T?void 0:ee?"right .5s":"left .5s",right:ee?eb:void 0,left:ee?void 0:eb,width:D?"100%":void 0},children:ed.map((e,a)=>{let l=a===ed.length-1,n=Math.ceil(R/4),s=0;n>=-12&&n<=12&&(s=n);let o=(0,x.jsx)(i.az,{ref:e=>{et.current=e,0===a&&(en.current=e)},"aria-label":(0,m.$)(Z.bt("Slide {{ currentSlide }} of {{ totalSlides }}", "Slide {{ currentSlide }} of {{ totalSlides }}", "CloseupCarousel.Carousel.labelSlide", undefined, true),{currentSlide:`${a+1}`,totalSlides:`${ed.length}`}),"data-carousel-indicator":"carousel-card","data-test-id":`carousel-img-${a}`,display:a!==K&&D?"none":"block",height:D?"100%":z??void 0,marginEnd:l?0:s,maxHeight:t,maxWidth:em?`calc(${r.aP}px - ${r.T3}px * 2)`:eh,role:"group",width:D?"100%":eo,children:e},`carousel-slot-${P}-${a}`);if("BoardMoreIdeasRep"===C){let t=e.props,l={total_object_count:t?.story.objects.length,storyType:t?.story.story_type,boardIdStr:t?.item.board_id,slotIndex:t?.slotIndex,story_id:t?.story.id};return(0,x.jsx)(g.g$,{componentType:I,contextLogData:l,impressionAuxFields:l,impressionType:"BoardMoreIdeasRep",loggingId:P,slotIndex:a,viewParameter:V??72,viewType:H??1,children:({impressionTrackerRef:e})=>(0,x.jsx)(i.az,{ref:e,children:o})},`carousel-slot-${P}-${a}`)}return o})})]}),14114===I&&(0,x.jsx)(d.En,{anchor:en.current,experienceIds:[506684],idealDirection:"down",placementId:11,positionRelativeToAnchor:!0,showCaret:!0,textWeight:"normal",useMasonryFlyout:!0})]})}},440776(e,t,a){a.d(t,{A:()=>o});var l=a(97407),n=a(296540),i=a(328138),r=a(643357),s=a(474848);let o=({iconType:e,showFab:t,moduleHovered:a,opacity:o=80})=>{(0,n.useEffect)(()=>{(0,l.A)("NavigationFab","/app/www/common/Carousel/NavigationFab.tsx")},[]);let d=(0,r.A)(),[u,c]=(0,n.useState)(!1),p=a??u;return(0,s.jsx)(i.az,{"data-test-id":"navigation-fab-container",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),opacity:p?100:p===a?0:o,children:(0,s.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},opacity:100*!!t,children:(0,s.jsx)(i.K0,{accessibilityLabel:"forward"===e?d.bt("View next", "View Next", "Button to advance carousel to the next image", undefined, true):d.bt("View previous", "View Previous", "Button to advance carousel to the previous image", undefined, true),bgColor:"default",dataTestId:"navigation-fab",icon:"forward"===e?"chevron-right":"chevron-left",size:"md"})})})}},983686(e,t,a){a.d(t,{JF:()=>s,Jf:()=>i,KJ:()=>r,UV:()=>c,WD:()=>d,jV:()=>u,oz:()=>n,tS:()=>o});let l=({containerWidth:e,contentWidth:t,index:a,slotAndGapWidth:n})=>{let i=a-1,r=i*n;return t-r>=e?r:l({index:i,slotAndGapWidth:n,containerWidth:e,contentWidth:t})},n=({containerWidth:e,gap:t,index:a,numberOfSlides:n,slotWidth:i,paddingX:r})=>{let s=i+t,o=s*n,d=r?e-r:e;if(o<=d)return 0;let u=d/s,c=(({index:e,numberOfSlides:t,slidesShownPerPosition:a})=>t-e-Math.floor(a)<1)({index:a,numberOfSlides:n,slidesShownPerPosition:u})?(({containerWidth:e,contentWidth:t,gap:a,index:n,slidesShownPerPosition:i,slotAndGapWidth:r,paddingX:s=0})=>l({containerWidth:e,contentWidth:t,index:n,slotAndGapWidth:r})+(({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t)({slidesShownPerPosition:i,slotAndGapWidth:r})-a+s)({containerWidth:d,contentWidth:o,gap:t,index:a,slidesShownPerPosition:u,slotAndGapWidth:s,paddingX:r}):a*s;return c?Math.round(-c):0},i=({containerWidth:e,gap:t,index:a,numberOfSlides:l,slotWidth:i,isHorizontalScrollable:r,paddingX:s,rows:o=1})=>{let d=l/o*i+t*(l-1),u=s?e-s:e;return 0!==e&&(d<=u||(r?d<=u:Math.abs(n({containerWidth:e,gap:t,index:a,numberOfSlides:l,slotWidth:i,paddingX:s}))+t>=d-u))},r=({containerWidth:e,currentIndex:t,gap:a,index:l,numberOfSlides:i,slotWidth:r,paddingX:s})=>{let o=r+a,d=s?e-s:e;if(o*i<=d||0===e)return!0;let u=n({containerWidth:e,gap:a,index:t,numberOfSlides:i,slotWidth:r,paddingX:s}),c=s?d+o+s:e+o;return u+o*l<c},s=(e,t,a)=>e||`${t.bt("carousel image", "carousel image", "Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed", undefined, true)} ${a}`;function o({highResOnly:e,slot:t}){let{images:a}=t;return e?`${a?.["564x"]?.url??""} 1x`:[a?.["474x"]&&`${a["474x"].url??""} 2x`,a?.["736x"]&&`${a["736x"].url??""} 3x`,a?.orig&&`${a.orig.url??""} 4x`].filter(Boolean).join(", ")}let d=(e,t,a,l,n=0,i)=>{let r=i?a-i:a;if(r===t)return-(l*t*1)+(i||0);let s=Math.floor(r-t),o=t+n;return l===e-1?-1*l*o+s+(i||0):-1*l*o+(i||0)},u=(e,t,a,l,n,i,r)=>{if(!e||t<=0)return 0;let s=Math.floor(a*l),o=e?.clientWidth||i*s;return Math.round(((r?t-r:t)+(r?o-r:o)-s/2)/(s+n))-1},c=(e,t,a,l,n,i)=>{e.current&&t&&e.current.scrollBy({left:(a-l)*(n+i),behavior:"smooth"})}},291119(e,t,a){a.d(t,{A:()=>C});var l,n=a(97407),i=a(296540),r=a(671468);a(234784);var s=a(278106),o=a(684059),d=a(845061),u=a(555491),c=a(696561),p=a(449798),g=a(698781),h=a(301496),m=a(643357),y=a(327467),f=a(219843),_=a(719561),x=a(278789),b=a(703613),v=a(582301),S=a(209922),j=a(953683),w=a(789542),k=a(779015),I=a(375114),A=a(197472),F=a(628844),T=a(474848);function R(e,t,a){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var l=a.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let z=(void 0!==l||(l=a(458041)).hash&&"540254f242b57ec111d9f2340a59f648"!==l.hash&&console.error("The definition of 'OneTapSavePinWrapperQuery_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);class P extends i.PureComponent{constructor(...e){super(...e),R(this,"state",{step:"unsaved",newPin:null}),R(this,"deletePin",e=>o.A.create("PinResource",{id:e,client_tracking_params:this.props.clientTrackingParams}).callDelete()),R(this,"repin",()=>{let{boardSessionId:e,clientTrackingParams:t,eventContext:a,pin:l,target:n}=this.props,{board:i,boardSection:r}=n||{},s=!l.entityId&&l.imageUrl?(0,f.A)(l.imageUrl??"",l.link):"",d=r&&r.id,u={board_id:i?.id||"",board_session_id:e,clientTrackingParams:t,description:l.description||"",image_base64:l.imageBase64??"",link:l.link,image_url:s,is_buyable_pin:!1,is_removable:!!l.promotedIsRemovable,media_upload_id:l.mediaUploadId??"",pin_id:l.entityId||"",section:d,title:l.title||"",eventContext:a};return o.A.create("RepinResource",u).callCreate({showError:!1})}),R(this,"handleSave",()=>{let{makeCancelablePromise:e,mountAfterActionPlacement:t,onSave:a,requireAuth:l}=this.props,{step:n}=this.state;l?l():"unsaving"===n?this.setState({step:"saving"}):(this.setState({step:"saving"}),e(this.repin().then(({resource_response:{data:e}})=>{this.shouldCompleteSave(e),t("Save",{pin_id:this.props.pin.entityId,is_promoted:this.props.pin.isPromoted})})).then(a).catch(({isCanceled:e})=>{let{target:t}=this.props,{board:a,boardSection:l}=t||{};!e&&a&&u.A.showError(l?(0,y.vQ)(this.props.i18n.bt("Failed to save the Pin to {{sectionName}}", "Failed to save the Pin to {{sectionName}}", "Error message when failed to save to a section within a board", undefined, true),{sectionName:l.title}).join(""):(0,y.vQ)(this.props.i18n.bt("Failed to save the Pin to {{boardName}}", "Failed to save the Pin to {{boardName}}", "Error message when failed to save to a board", undefined, true),{boardName:a.name}).join(""))}))}),R(this,"shouldCompleteSave",e=>{let{saveToBoard:t,pin:a,dispatch:l,target:n}=this.props,{board:i,boardSection:r}=n||{},{board:s}=e,{step:o}=this.state,d=r&&r.id,u=i||s,c={pinId:a.entityId,boardId:d,title:a.title||""};if("saving"===o&&u){this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id}),t(u),"BoardShoppingModule"!==this.props.surface&&(l((0,w.ZT)({feedId:d||u.id,feedType:d?A.A.BOARD_SECTION_PINS:A.A.BOARDFEED,itemIds:[a.entityId],itemType:"pin"})),l((0,S.zY)({boardId:u.id,sectionId:r?r.id:void 0,increment:1})));let{imageUrl:n,images_236x:i}=a,s=n||i&&i.url||"";return(r||!u.image_cover_url)&&(u.image_cover_url=s,l((0,S.NQ)(u))),l((0,k.UN)({...c,localPinId:e.id,nodeId:a.__id})),l((0,I.LR)({userId:e.pinner.id,increment:1})),this.setState({step:"saved",newPin:e}),e}"unsaving"===o&&this.handleUnsave(e.id)}),R(this,"handleUnsave",e=>{let{step:t}=this.state,{savedInfo:a}=this.props.pin;if("unsaved"===t)return;if("saving"===t)return void this.setState({step:"unsaving"});let l=a&&a.localPinId||e;l&&(this.setState({step:"unsaving"}),this.deletePin(l).then(()=>this.shouldCompleteUnsave()))}),R(this,"shouldCompleteUnsave",()=>{let{pin:e,target:t,dispatch:a,onDelete:l,viewerId:n}=this.props,{board:i,boardSection:r}=t||{},{step:s}=this.state;if("unsaving"===s){if(e.savedInfo&&i){let t=r?.id;a((0,k.jI)({pinId:e.entityId,nodeId:e.__id})),"BoardShoppingModule"!==this.props.surface&&a((0,S.zY)({boardId:i.id,sectionId:t,increment:-1})),a((0,I.LR)({userId:n,increment:-1})),a((0,S.KB)(i.id)),a((0,w.J6)({feedId:t||i.id,feedType:t?A.A.BOARD_SECTION_PINS:A.A.BOARDFEED,itemIds:[e.entityId],itemType:"pin"})),t&&a((0,j.A)(t)),l&&l()}this.setState({step:"unsaved"})}"saving"===s&&this.handleSave()})}render(){let{children:e}=this.props,{step:t,newPin:a}=this.state,{savedInfo:l}=this.props.pin;return e({save:this.handleSave,saved:"saved"===t||"saving"===t||!!(l&&l.localPinId),savedInfo:{...l,boardId:a?.board?.id,url:a?.board?.url,title:a?.board?.name},unsave:this.handleUnsave,type:"persistentOneClickSave"})}}function C({pinKey:e,...t}){(0,i.useEffect)(()=>{(0,n.A)("OneTapSavePinWrapper","/app/www/save/OneTapSavePinWrapper/OneTapSavePinWrapper.tsx")},[]);let{previous:a}=(0,h.qD)(),{saveToBoard:l}=(0,b.p)(),o=(0,r.wA)(),u=(0,v.y)()?.onPinCreate,y=(0,m.A)(),f=(0,_.A)(),S=(0,s.zy)(),j=(0,d.A)(),w=(0,p.A)(),k=(0,F.X)(),I=(0,g.A)(z,e),A=(0,x.A)({hasPin:!!I,pinId:I.entityId,boardLayout:I.board?.layout,boardUrl:I.board?.url}),R=(0,c.Ts)();return(0,T.jsx)(P,{...t,boardSessionId:k,clientTrackingParams:I?.trackingParams,dispatch:o,i18n:y,location:S,makeCancelablePromise:f,mountAfterActionPlacement:R,onDelete:()=>{A(),t.onDelete?.()},onPinCreate:u,pin:I,previousHistory:a,requireAuth:j,saveToBoard:l,viewerId:w.isAuth?w.id:""})}},628844(e,t,a){a.d(t,{X:()=>g,o:()=>h});var l=a(296540),n=a(278106),i=a(418562),r=a(126439),s=a(697384),o=a(301496),d=a(693117),u=a(467063),c=a(474848);let{Provider:p,getMaybe:g}=(0,s.A)("BoardSessionIdcontext");function h({children:e}){let{previous:t,current:a,forward:s}=(0,o.qD)(),g=(0,l.useRef)(!1),h=(0,n.zy)(),m=a?.match?.path||"",y=s.length>0&&s[s.length-1]?.match?.path||"",[,f,_]=h.state?.from?.pathname.split("/")||[],[,,x,b]=h.pathname.split("/"),v=y?.includes("/:username/:slug")||"/pin/:id"===y,S=!t.length,j=!(!b&&("/pin/:id"===m||m?.includes("/:username/:slug/_tools"))||S||v||_===x||!f)||!("_saved"!==x&&x),w=(0,l.useMemo)(()=>{let e,t="undefined"!=typeof window;if(t){let t=(0,d.V2)().getItem(r.I$);e=t?.boardSessionId}if((0,u.A)(r.I$)&&(j||!e)&&!g.current){g.current=!0;let e=(0,i.A)();return t&&(0,d.V2)().setItem(r.I$,{boardSessionId:e}),e}return e},[j]);return(0,l.useEffect)(()=>()=>{"undefined"!=typeof window&&j&&(0,d.V2)().removeItem(r.I$)},[j]),(0,c.jsx)(p,{value:w,children:e})}},503903(e,t,a){a.d(t,{A:()=>d});var l=a(97407),n=a(296540),i=a(328138),r=a(706397),s=a(474848);function o({children:e,viewParameter:t,viewType:a,contextLogData:l,id:o,url:d,width:u,onTap:c}){let[p,g]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),y=(0,r.bi)({contextLogData:l,impressionType:"Article",loggingId:o,slotIndex:2,viewParameter:t,viewType:a});return(0,s.jsx)(i.$A,{fullWidth:!0,href:d,onBlur:()=>g(!1),onFocus:()=>g(!0),onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onTap:e=>{m(!0),c?.(e)},rounding:400,children:(0,s.jsx)(i.az,{ref:y,rounding:400,width:u?u+8:"100%",children:(0,s.jsx)(i.n1,{rounding:400,children:(0,s.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:h?"rgba(205, 205, 188, 1)":p?"rgba(222, 222, 211, 1)":"rgba(240, 240, 235, 1)",paddingBottom:void 0}},padding:1,children:e})})})})}function d({contextLogData:e,height:t,id:a,images:r,title:d,onTap:u,url:c,viewParameter:p,viewType:g,width:h,lineClamp:m,testId:y}){(0,n.useEffect)(()=>{(0,l.A)("RowRelatedIdeaRep","/app/www/unauth/unified/RowRelatedIdeaRep.tsx")},[]);let f=r&&r[0]&&(r[0]["236x"]?.url||r[0]["474x"]?.url)||"",_=(0,s.jsx)(i.n1,{height:t,rounding:300,wash:!0,width:t,children:(0,s.jsx)(i._V,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:f})});return(0,s.jsx)(i.az,{"data-test-id":y,children:(0,s.jsx)(o,{contextLogData:e,id:a,onTap:u,url:c,viewParameter:p,viewType:g,width:h,children:(0,s.jsxs)(i.so,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,s.jsx)(i.az,{alignItems:"center","data-test-id":"search-suggestion-image-container",display:"flex",children:_}),(0,s.jsx)(i.az,{alignItems:"center",display:"flex",maxHeight:t,padding:4,children:(0,s.jsx)(i.KJ,{lineClamp:m,children:(0,s.jsx)("span",{style:{fontWeight:500,fontSize:"16px",height:void 0,lineHeight:"19px",display:"block"},children:d})})})]})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/10278.en_GB-1f7e1bbc75952ea3.mjs.map