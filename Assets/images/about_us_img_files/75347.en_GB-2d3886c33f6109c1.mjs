(self.modernJsonp=self.modernJsonp||[]).push([["75347"],{489602(e,t,r){r.r(t),r.d(t,{default:()=>a});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};l.hash="d1542775568248acbce5a79453f4dffb";let a=l},531604(e,t,r){var l,a;r.r(t),r.d(t,{default:()=>i});let n={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[a],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[l],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};n.hash="dee347ef77ae345e076b08494d4b664f";let i=n},703918(e,t,r){r.r(t),r.d(t,{default:()=>a});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};l.hash="b5b71fb4390c1d3835e468a25f687669";let a=l},393895(e,t,r){r.r(t),r.d(t,{default:()=>a});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};l.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let a=l},196866(e,t,r){r.d(t,{A:()=>i});var l=r(622165),a=r(534955),n=r(568677);function i(){let{isAuthenticated:e}=(0,a._8)(),t=(0,n.M)(),{checkExperiment:r}=(0,l.A)();return{mWebCloseupRedesignEnabled:e&&t&&r("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:r("mweb_closeup_redesign").group}}},129857(e,t,r){r.d(t,{A:()=>_});var l,a,n=r(97407),i=r(296540);r(234784);var o=r(328138),s=r(632321),d=r(42785),c=r(698781),u=r(998345),p=r(507861),h=r(113465),g=r(840256),m=r(695037),f=r(792637),y=r(568677),b=r(588628),x=r(474848);let v=(void 0!==l||(l=r(489602)).hash&&"d1542775568248acbce5a79453f4dffb"!==l.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),w=(void 0!==a||(a=r(531604)).hash&&"dee347ef77ae345e076b08494d4b664f"!==a.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function _({accessibilityLabelledBy:e,auxData:t,component:r,contentVisibleItemCountOverride:l,disableHeader:a,getProductTagAuxData:_,headerDisplayOptions:k,heading:S,itemRepSiblingNodeFactories:I,items:C,itemWidth:F,itemWidthHeightRatio:A,parentPinKey:j,renderItem:T,saveButtonOptions:P,showBorder:z,showMarkers:R=!1,showNavigationButtons:L=!0,storyKey:M,subtitle:E,surface:K,view:B=3,viewParameter:N,width:W}){(0,i.useEffect)(()=>{(0,n.A)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:$}=(0,s.o)(),D=(0,y.Ay)(),O=(0,y.bh)(D),H=(0,c.A)(v,j),U=(0,c.A)(w,M),V=U?.objects?[...U.objects]:[],q=V.map(e=>"Pin"===e.__typename?e.entityId:null),G=(0,i.useMemo)(()=>{let e=U?.storyType?{story_type:U.storyType}:void 0;return e&&t?{...t,...e}:e??t},[U?.storyType,t]),J=O?u.rt:u.LB,Y=F??J,X=U.displayOptions?.contentDisplay?.itemWidthHeightRatio??A??1,{web:Q,mobile:Z}=U.displayOptions?.contentDisplay?.contentVisibleItemCount??{},ee=l??(O?Q:Z),et=!a&&(U?.storyTitle||S||E),{showModuleBorder:er,showExtraSmallSubtitle:el,headerMarginBottom:ea,isFixedWidthSlides:en,moduleBorderStyle:ei}=(0,m.A)({storyKey:U,styleOverrides:{showModuleBorder:z}}),eo=!en&&!!ee&&!F,es=eo?"100%":Y,ed=(0,i.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let l=Number(q?.[e]);$({aux_data:G,event_type:108,component:r,view_type:B,view_parameter:N,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(l)?l:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[G,r,q,$,B,N]),ec=(0,i.useCallback)(({item:e,index:t})=>{let l=()=>{let l;if(T)return T({item:e,index:t});if(t===V.length-1&&U.action?.text&&U.action?.url&&(l=U.action,l?.text&&l?.url&&g.$$.has(l?.location))){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,x.jsx)(p.A,{auxData:G,buttonText:U.action?.text,component:r,contentIds:U.contentIds??void 0,element:179,imageWidth:es,previewImageSrc:t,storyId:U.storyId??"",storyType:U.storyType,url:U.action.url,view:B,viewParameter:N})}let a="Pin"===e.__typename?_?.(e):void 0;return(0,x.jsx)(h.A,{auxData:{...a,...G},boardKey:null,component:r,imageWidth:es,isInDesktopCarousel:O,isInMobileCarousel:!O,item:null,itemWidthHeightRatio:X,parentPinKey:H,pinKey:"Pin"===e.__typename?e:null,productTagParentPinId:H?.entityId,relatedInterestKey:null,saveButtonOptions:P,slotIndex:t,storyKey:U,surface:K,view:B,viewParameter:N})},a=I?.[t];if(a){let e=l();return(0,x.jsx)(b.e,{children:t=>(0,x.jsx)(o.az,{position:"relative",children:(0,x.jsxs)(i.Fragment,{children:[e,a(t)]})})})}return l()},[V.length,r,_,O,I,es,X,G,H,T,P,U,K,B,N]);return(0,x.jsxs)(o.az,{borderColor:er?"decorative":void 0,borderWidth:er?ei:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${Y}px`,"--story-item-width-height-ratio":`${1/X}`,...eo&&{"--carousel-item-count":`${ee}`}}},direction:"column",display:"flex",rounding:er?400:void 0,width:W??"100%",children:[et&&(0,x.jsx)(o.az,{marginStart:6,marginTop:4,children:(0,x.jsx)(f.A,{auxData:G,headerDisplayOptions:k,marginBottomOverride:ea,showExtraSmallSubtitle:el,storyKey:U,view:B,viewParameter:N})}),(0,x.jsx)(o.az,{position:"relative",children:(0,x.jsx)(d.A,{accessibilityLabelledBy:e,items:C??V,mode:"multi",onIndexChange:ed,renderItem:ec,showNavigationButtons:L,showScrollMarkers:R})})]})}},42785(e,t,r){r.d(t,{A:()=>C});var l=r(97407),a=r(296540),n=r(246942),i=r.n(n),o=r(328138);function s(e,t){return Math.max(0,((t<=0?0:Math.ceil(e/t))-1)*t)}function d(e,t,r){return r<=1?Math.max(0,Math.min(e,t-1)):Math.min(Math.max(0,Math.floor(e/r)*r),s(t,r))}var c=r(643357),u=r(474848);let p="12px";function h({containerRef:e,carouselClassName:t,currentIndex:r=0,itemCount:n,itemHeight:i,itemsPerPage:h,onIndexChange:g,showNavigationArrows:m=!1}){(0,a.useEffect)(()=>{(0,l.A)("CarouselOverlay","/app/packages/gestaltExtensions/Carousel/CarouselOverlay.tsx")},[]);let f=(0,a.useRef)(null),y=(0,c.A)(),[b,x]=(0,a.useState)(void 0),[v,w]=(0,a.useState)(0);(0,a.useLayoutEffect)(()=>{let r,l=!1,a=()=>{if(l)return;let n=e.current,i=n?.querySelector(`.${t}`),o=i?.querySelector("li"),s=o?.querySelector('[data-test-id="pinrep-image"]')||o?.querySelector("img");if(s&&n&&i){let e=s.getBoundingClientRect(),t=n.getBoundingClientRect();if(e.height>0){x(e.height),w(e.top-t.top),l=!0;return}}r=setTimeout(a,100)};return a(),()=>{l=!0,r&&clearTimeout(r)}},[e,t]);let _=b??i,k=_?`calc(${_}px / 2 - 18px)`:"calc(50% - 18px)",S=(0,a.useCallback)(()=>{if(h&&h>1){let e=Math.max(0,d(r,n,h)-h);g?.(e)}else{let e=Math.max(0,r-1);g?.(e)}},[r,n,h,g]),I=(0,a.useCallback)(()=>{if(h&&h>1){let e=d(r,n,h),t=Math.min(s(n,h),e+h);g?.(t)}else{let e=Math.min(n-1,r+1);g?.(e)}},[r,n,h,g]),{showPrevious:C,showNext:F}=(()=>{if(!m)return{showPrevious:!1,showNext:!1};if(h&&h>1){let e=d(r,n,h);return{showPrevious:e>0,showNext:e<s(n,h)}}return{showPrevious:r>0,showNext:r<n-1}})();return(0,u.jsxs)(o.az,{ref:f,dangerouslySetInlineStyle:{__style:{height:_?`${_}px`:"100%",pointerEvents:"none",top:`${v}px`}},left:!0,position:"absolute",right:!0,zIndex:new o.rk(100),children:[(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{left:p,pointerEvents:"auto",top:k}},opacity:100*!!C,position:"absolute",children:(0,u.jsx)(o.K0,{accessibilityLabel:y.bt("View previous", "View Previous", "CarouselOverlay.scrollButton.viewPrevious", undefined, true),bgColor:"default",dataTestId:"carousel-overlay-previous",icon:"chevron-left",onClick:S,size:"md"})}),(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",right:p,top:k}},opacity:100*!!F,position:"absolute",children:(0,u.jsx)(o.K0,{accessibilityLabel:y.bt("View next", "View Next", "CarouselOverlay.scrollButton.viewNext", undefined, true),bgColor:"default",dataTestId:"carousel-overlay-next",icon:"chevron-right",onClick:I,size:"md"})})]})}let g={bottom:"15px",boxShadow:"0 1px 0px rgba(0, 0, 0, 0.1)",left:0,position:"absolute",right:0};function m({index:e,isActive:t,mode:r,onClick:l,label:a}){return(0,u.jsx)(o.az,{height:8,width:8,children:(0,u.jsx)(o.Rp,{accessibilityLabel:a||`Navigate to slide ${e+1}`,onTap:()=>l(e),rounding:"circle",children:(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?"single"===r?"var(--sema-color-background-default)":"var(--sema-color-background-inverse)":"single"===r?"rgba(255, 255, 255, 0.6)":"var(--sema-color-background-secondary)",transition:"background-color 0.2s ease"}},height:8,rounding:"circle",width:8})})},e)}function f({currentIndex:e,itemCount:t,itemLabels:r,itemsPerPage:n,mode:i,onNavigateToIndex:s}){(0,a.useEffect)(()=>{(0,l.A)("FallbackScrollMarkers","/app/packages/gestaltExtensions/Carousel/FallbackScrollMarkers.tsx")},[]);let c=n?d(e,t,n):e,p=(0,a.useCallback)(e=>{s(e)},[s]),h=n?Math.ceil(t/n):t,f=n?n<=1?Math.max(0,Math.min(c,t-1)):Math.floor(d(c,t,n)/n):c;return h<=1?null:(0,u.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{..."single"===i&&g}},"data-test-id":"scroll-markers-fallback",display:"flex",justifyContent:"center",zIndex:"single"===i?new o.rk(100):void 0,children:(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{display:"grid",gridAutoColumns:"1rem",gridAutoFlow:"column",placeItems:"center"}},width:"fit-content",children:[...Array(h).keys()].map(e=>{let t=n?e*n:e;return(0,u.jsx)(m,{index:t,isActive:e===f,label:r?.[t],mode:i,onClick:p},e)})})})}var y=r(534955);let b=function({mode:e,forceShowNavigationButtons:t,showNavigationButtons:r=!1,showScrollMarkers:l=!1}){let{userAgent:{browserName:a,browserVersion:n}}=(0,y._8)(),i="Chrome"===a&&Number(n.split(".")[0])>=135&&("undefined"==typeof window||void 0===window.Cypress);return"multi"===e?{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:r,enableFallbackScrollMarkers:l}:i&&void 0===t?{enableCssScrollButtons:r,enableCssScrollMarkers:l,enableFallbackScrollButtons:!1,enableFallbackScrollMarkers:!1}:{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:r,enableFallbackScrollMarkers:l}};var x=r(871211),v=r(646844);let w=e=>`
  --scroll-button-size: 36px;
  --scroll-button-offset: 1rem;

  &::scroll-button(*) {
    opacity: 0;
    pointer-events: auto;
    position: absolute;
    position-anchor: --${e};
    background-color: var(--sema-color-background-default);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    display: inline-block;
    margin-block-start: calc(var(--carousel-item-height) / 2 - var(--scroll-button-size) / 2);
    height: var(--scroll-button-size);
    line-height: 0;
    vertical-align: middle;
    width: var(--scroll-button-size);
    transition: opacity 50ms cubic-bezier(0, 0, 1, 1), transform 50ms cubic-bezier(0, 0, 1, 1);
  }

  /* Show scroll buttons when hovering on the parent <ul>. */
  &:hover::scroll-button(*) {
    opacity: 1;
    transition: opacity 100ms cubic-bezier(0, 0, 1, 1), transform 100ms cubic-bezier(0, 0, 1, 1);
  }

  &::scroll-button(inline-end) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0 0 24 24' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.7.3 20.42 12 8.71 23.7l-1.42-1.4L17.6 12 7.29 1.7z' /%3E%3C/svg%3E");
    right: anchor(--${e} right);
    margin-inline-end: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  &::scroll-button(inline-start) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0%200%2024%2024' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.41%2012%2010.3-10.3L15.29.3%203.6%2012l11.7%2011.7%201.42-1.4z'/%3E%3C/svg%3E");
    left: anchor(--${e} left);
    margin-inline-start: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  /* CSS specificity order matters: hover/focus → active → disabled (most specific last) */
  &::scroll-button(*):is(:hover, :focus-visible) {
    background-color: var(--sema-color-hover-background-default);
    opacity: 1;
  }

  &::scroll-button(*):active {
    background-color: var(--sema-color-pressed-background-default);
    transform: scale(0.90);
  }

  &::scroll-button(*):disabled {
    background-color: var(--sema-color-background-disabled);
    opacity: 0;
    cursor: not-allowed;
    interactivity: inert;
  }

`,_=(e,t="multi",r=1)=>{let l="multi"===t;return`
  scroll-marker-group: after;

  &::scroll-marker-group {
    display: grid;
    grid-auto-columns: 1rem;
    grid-auto-flow: column;
    height: 8px;
    justify-content: center;
    margin-block-start: ${l?"16px":"-1.25rem"};
    position-anchor: --${e};
    position-area: bottom;
    ${l?"position: fixed; align-items: center;":"scroll-snap-type: y mandatory;"}
    transition: all 150ms ease-out;
    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }
  }

  > li:nth-child(${r}n + 1)::scroll-marker {
    aspect-ratio: 1;
    border-radius: 50% ;
    background: ${l?"var(--sema-color-background-secondary)":"rgba(255, 255, 255, 0.6)"};
    content: ' ';
    width: 50%;
    box-shadow: ${l?"none":"0 1px 0px rgba(0, 0, 0, 0.1)"};
    animation-timeline: view(x);
    interactivity: auto;
    transition: all 150ms ease-out;
    place-self: center;
  }

  > li:nth-child(${r}n + 1)::scroll-marker:target-current {
    background: ${l?"var(--sema-color-background-inverse)":"var(--sema-color-background-default)"};
  }
`},k=function({cls:e,inset:t,isMobile:r=!1,itemsPerPage:l}){let a="none"===t,n=r?"0rem":"1rem";return`
  .${e} {
    --carousel-edge-padding: ${a?"0":r?"0.5rem":"1rem"};
    --carousel-gap: 0.5rem;
    --calculated-column-width: calc(
      (
        100cqw
        - var(--carousel-edge-padding)
        - (var(--carousel-gap) * (var(--carousel-item-count) + 1))
      ) / var(--carousel-item-count)
    );
    anchor-name: --${e};
    counter-reset: item;
    display: grid;
    gap: var(--carousel-gap);
    grid-auto-flow: column;
    grid-auto-columns: var(--calculated-column-width, var(--carousel-item-width, min-content));
    list-style-type: none;
    margin-block: 0rem;
    margin-inline: auto;
    overscroll-behavior-x: contain;
    overflow-y: hidden;
    overflow-x: auto;
    padding-block-start: ${a?"0":n};
    padding-block-end: ${a?"0":n};
    padding-inline: var(--carousel-edge-padding);
    scroll-padding-inline-start: var(--carousel-edge-padding);
    scroll-padding-inline-end: var(--carousel-edge-padding);
    scrollbar-width: none;

    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }

    >li {
      block-size: auto;
      overflow: visible;
      display: flex;
      flex-direction: column;
      container-type: scroll-state;
    }

    &.scroll-markers {
      ${a?`padding-block-end: ${n};`:""}
      ${_(e,"multi",l)}
    }

    &.scroll-buttons {
      ${w(e)}
    }
  } `};var S=r(542098),I=r(568677);function C({forceShowNavigationButtons:e,inset:t="default",itemHeight:r,items:n,itemWidth:s,mode:d,onIndexChange:c,accessibilityLabelledBy:p,renderItem:g,selectedIndex:m,showNavigationButtons:y,showScrollMarkers:C}){(0,a.useEffect)(()=>{(0,l.A)("CSSCarousel","/app/packages/gestaltExtensions/Carousel/CSSCarousel.tsx")},[]);let{enableCssScrollMarkers:F,enableCssScrollButtons:A,enableFallbackScrollMarkers:j,enableFallbackScrollButtons:T}=b({mode:d,forceShowNavigationButtons:e,showScrollMarkers:C,showNavigationButtons:y}),[P,z]=(0,a.useState)(0),R=(0,a.useRef)(null),L=(0,a.useRef)(null),M=(e=>{let[t,r]=(0,a.useState)(1),l=(0,a.useRef)(null);return(0,x.A)(()=>{let t=null;if(e.current){let a=()=>{l.current&&cancelAnimationFrame(l.current),l.current=requestAnimationFrame(()=>{(()=>{let t=e.current;if(t){let e=t.offsetWidth,l=t.querySelector("li");if(l){let t=l.offsetWidth;if(t>0&&e>0){let l=Math.max(1,Math.floor((e-32+8)/(t+8)));r(e=>e!==l?l:e)}}}})(),l.current=null})};a(),(t=new ResizeObserver(a)).observe(e.current)}return()=>{l.current&&cancelAnimationFrame(l.current),t&&t.disconnect()}}),t})(R),E=(0,o.Ib)(),{isInteractive:K,onKeyboardFocus:B,onKeyboardBlur:N,onMouseOver:W,onMouseOut:$}=function(){let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),n=(0,a.useCallback)(e=>{e.target.matches(":focus-visible")&&t(!0)},[]);return{keyboardFocused:e,hovered:r,isInteractive:e||r,onKeyboardFocus:n,onKeyboardBlur:(0,a.useCallback)(()=>{t(!1)},[]),onMouseOver:(0,a.useCallback)(()=>{l(!0)},[]),onMouseOut:(0,a.useCallback)(()=>{l(!1)},[])}}(),{setNavigationIntent:D}=function({scrollerRef:e,itemsLength:t,itemsPerPage:r,mode:l,focusedIndex:n,setFocusedIndex:i,onIndexChange:o}){let s=(0,a.useRef)([]),d=(0,a.useRef)(null),c=(0,a.useRef)(!0),u=(0,a.useRef)(null),p=(0,a.useRef)(-1),h=(0,a.useRef)(0),g=(0,a.useRef)(0),m=(0,a.useRef)(null),f=(0,a.useCallback)(e=>{let{direction:t}=getComputedStyle(e),{scrollLeft:r,scrollWidth:l,clientWidth:a}=e;return"rtl"!==t?r:r<0?-r:l-a-r},[]),y=(0,a.useCallback)(()=>{let t=e.current;if(!t||!s.current.length)return;let a=u.current,d=t.children.length;if(c.current||!a||a.scrollWidth!==t.scrollWidth||a.clientWidth!==t.clientWidth||a.childrenCount!==d||s.current.length!==d){let e=Array.from(t.children);s.current=e.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:e.length},c.current=!1}let y=f(t),b=t.scrollWidth-t.clientWidth,x=y+t.clientWidth/2,w=s.current,_=0,k=1/0;w.forEach((e,t)=>{let r=Math.abs(e-x);r<k&&(k=r,_=t)});let S=_;if("multi"===l&&r>1){let e=Math.floor(_/r)*r,t=Math.max(0,Math.floor((w.length-1)/r)*r),l=Math.min(e,t),a=h.current;if(a!==l){let e=l>a?1:-1,t=(w[a+(e>0?r-1:0)]+w[l+(e>0?0:Math.min(r-1,w.length-l-1))])/2+e*(x>w[w.length-1]-24||x<w[0]+24?6:24),n=y-g.current;(!(e>0?x>=t:x<=t)||e>0&&n<-.5||e<0&&n>.5)&&(l=a)}(y/b>.98||b-y<=8)&&(l=t),h.current=S=l}let I=performance.now(),C=m.current,F=C&&I-C.timestamp<500;S===n||F||(p.current!==S&&((0,v.GV)("closeup.dweb.css_carousel.enabled.carousel_index_change",{sampleRate:1}),p.current=S),i(S),o?.({currentIndex:n,nextIndex:S})),C&&(S===C.targetIndex||I-C.timestamp>500)&&(m.current=null),g.current=y},[n,r,l,o,e,i,f]),b=(0,a.useCallback)(()=>{let e=performance.now(),t=m.current;t&&e-t.timestamp<500||(d.current&&cancelAnimationFrame(d.current),d.current=requestAnimationFrame(()=>{d.current=null,y()}))},[y]),x=(0,a.useCallback)(()=>{c.current=!0,b()},[b]);return(0,a.useLayoutEffect)(()=>{let t=e.current;if(!t)return;let r=Array.from(t.children);s.current=r.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:r.length},c.current=!1;let l="undefined"!=typeof ResizeObserver?new ResizeObserver(x):null,a=new MutationObserver(x);return l&&l.observe(t),a.observe(t,{childList:!0}),t.addEventListener("scroll",b,{passive:!0}),window.addEventListener("resize",x),()=>{t.removeEventListener("scroll",b),window.removeEventListener("resize",x),a.disconnect(),l&&l.disconnect(),d.current&&(cancelAnimationFrame(d.current),d.current=null)}},[b,x,e]),(0,a.useLayoutEffect)(()=>{c.current=!0,b()},[t,r,b]),{setNavigationIntent:(0,a.useCallback)(e=>{m.current={targetIndex:e,timestamp:performance.now()}},[])}}({scrollerRef:R,itemsLength:n.length,itemsPerPage:M,mode:d,focusedIndex:P,setFocusedIndex:z,onIndexChange:c}),O=(0,a.useCallback)(e=>{let t=R.current;if(!t)return;let r=Array.from(t.children),l=Math.max(0,Math.min(e,r.length-1)),a=r[l];if(a&&"number"==typeof a.offsetLeft){let e=parseInt(getComputedStyle(t).paddingInlineStart,10)||0;t.scrollTo({left:a.offsetLeft-e,behavior:E?"auto":"smooth"})}},[E]),H=(0,a.useCallback)(e=>{D(e),O(e),z(e),c?.({currentIndex:P,nextIndex:e})},[P,c,O,D]);(0,a.useLayoutEffect)(()=>{void 0!==m&&m!==P&&n.length&&H(m)},[m,P,H,n.length]);let U=(0,a.useCallback)(e=>()=>z(e),[]),V=(0,a.useCallback)(()=>z(-1),[]),q=(0,a.useRef)(new Map),G=(0,a.useCallback)(e=>(q.current.has(e)||q.current.set(e,U(e)),q.current.get(e)),[U]);(0,a.useLayoutEffect)(()=>{q.current.clear()},[n]);let J=(0,I.Ay)(),Y=!(0,I.bh)(J),X="none"===t,Q="single"===d,Z=`carousel--mode-${d}`,ee=Q?`
  .${Z} {
    anchor-name: --${Z};
    container-type: inline-size scroll-state;
    counter-reset: item;
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 100%;
    height: 100%;
    list-style-type: none;
    overscroll-behavior-x: contain;
    overflow-x: auto;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (hover) {
      &:not(:hover,
      :focus-within)::scroll-button(*) {
        opacity: 0;
      }
    }

    > li {
      container-type: scroll-state;
      scroll-snap-align: center;
      scroll-snap-stop: always;
      width: 100%;
      height: 100%;
      overflow: hidden;

      & img {
        height: 100%;
        width: 100%;
      }
    }

    &.scroll-markers {
      ${_(Z,"single")}
    }

    &.scroll-buttons {
      ${w(Z)}
    }
  }
`:k({cls:Z,inset:t,isMobile:Y,itemsPerPage:M}),et={...r&&{"--carousel-item-height":`${r}px`},...s&&{"--carousel-item-width":`${s}px`}},er=i()(Z,{"scroll-markers":F,"scroll-buttons":A});return(0,u.jsxs)(o.az,{ref:L,"aria-labelledby":p,as:"section",dangerouslySetInlineStyle:{__style:{containerType:"inline-size"}},height:"100%",onBlur:N,onFocus:B,onMouseOut:$,onMouseOver:W,position:"relative",width:"100%",children:[(0,u.jsx)(S.A,{unsafeCSS:ee}),T&&(0,u.jsx)(h,{carouselClassName:Z,containerRef:L,currentIndex:P,itemCount:n.length,itemHeight:r,itemsPerPage:M,onIndexChange:H,showNavigationArrows:e??K}),(0,u.jsx)("ul",{ref:R,className:er,style:et,children:n.map((e,t)=>(0,u.jsx)("li",{children:g({item:e,index:t,isFocused:P===t,onFocus:G(t),onUnfocus:V})},e?.id??e?.entityId??t))}),j&&(0,u.jsx)(o.az,{marginBottom:X||"multi"!==d?void 0:4,marginTop:X?4:void 0,children:(0,u.jsx)(f,{currentIndex:P,itemCount:n.length,itemsPerPage:M,mode:d,onNavigateToIndex:H})})]})}},51007(e,t,r){r.d(t,{A:()=>l});function l(e){let t;if(!e)return null;let r=e?.url;return Array.isArray(e?.params)?t=e?.params:Object.entries(t={...e?.params??{}}).forEach(([e,l])=>{r?.includes(`{${e}}`)&&(r=r?.replaceAll(`{${e}}`,String(l)),delete t[e])}),{name:"ApiResource",options:{url:r,data:t,...e?.method==="POST"?{postInsteadOfGet:!0}:{}},enabledRouteRefresh:e?.enabledRouteRefresh,headers:e?.headers,noCache:e?.noCache,schema:e?.schema}}},72341(e,t,r){r.d(t,{A:()=>n});var l=r(51007),a=r(468133);function n(e){return(0,a.A)((0,l.A)(e))}},722847(e,t,r){r.d(t,{Ir:()=>U,RM:()=>O,Ay:()=>G});var l=r(97407),a=r(296540),n=r(671468),i=r(278106),o=r(328138),s=r(696561),d=r(254721),c=r(586209),u=r(998345),p=r(643357),h=r(884986),g=r(534955),m=r(878528),f=r(468133),y=r(455085),b=r(568677),x=r(682048);let v=new Map;var w=r(431216),_=r(49359),k=r(742884),S=r(917158),I=r(408270),C=r(804343),F=r(342394),A=r(7109),j=r(796903),T=r(925177),P=r(144180),z=r(558367),R=r(74992),L=r(940904),M=r(812112),E=r(392005),K=r(947814),B=r(474848);function N(e,t,r){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let W=(0,K.A)(()=>r.e("5852").then(r.bind(r,808012)),void 0,e=>808012,"app-www-businessNux-BizNuxHomefeedLoader",e=>["5852"]),$=(0,K.A)(()=>r.e("85496").then(r.bind(r,312668)),void 0,e=>312668,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",e=>["85496"]);class D extends a.PureComponent{constructor(...e){super(...e),N(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:(()=>{let{plpImageRenderData:e}=(0,I.of)(),[t]=e;return t?t.pin_id:null})(),feedItem:null}:null}),N(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),N(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),N(this,"gridContainerRef",(0,a.createRef)()),N(this,"renderFeedPin",(e,t)=>{let{feedItemProps:r,location:l,performanceOptimization:a,showSeoMetadata:n,surface:i,trafficSource:o,getReduxPin:s}=this.props,{auxData:d,componentType:c,feedback:u,imageOnly:p,impressionData:h,objectIdStr:g,oneTapSave:m,onFeedItemClick:f,onPinLinkClick:y,shouldAllowProductPriceIndicator:b,showSeoMetadata:x,viewData:v,viewParameter:w,viewType:_}=r||{},k=(l.search||"").includes("force_seo"),S=!!a?.lazyLoadBelowFoldIndex&&t>a.lazyLoadBelowFoldIndex,I=!!a?.priorityFetchAboveFoldIndex&&t<=a.priorityFetchAboveFoldIndex,C=s(e.id);return(0,B.jsx)(F.Y,{auxData:d,componentType:c||0,duploFeedItemProps:{onPinClick:f,onPinLinkClick:y,showSeoMetadata:n||k||x},duploLazyLoadImage:S,duploOneTapSave:m,duploPriorityFetchImage:I,duploShouldAllowProductPriceIndicator:b,feedback:u,imageOnlyOption:p?"image-only":"default",impressionData:h,objectIdStr:g,pinId:e.id,pinKey:C?{type:"Legacy",data:C}:null,seoDrawerPinType:this.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:i,trackingParams:e.trackingParams,trafficSource:o,viewData:v,viewParameter:w,viewType:_||1})}),N(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),N(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:r}=this.props,l=this.getBoardId(),a="board"===r&&["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(t??"")&&l?e(l):null;return a?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,w.N5)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,w.GP)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:r}=this.state,{feedItems:l,authHomefeedComponentDidUpdate:a}=this.props,n=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(n&&this.setState({refreshing:!1}),a&&r){let t=a({feedItems:l,prevFeedItems:e.feedItems,finishedRefresh:n,unauthLandingPinStateForAuthHomefeed:r});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentalColumnWidth:r,experimentalGutter:l,feedItemProps:n,feedItems:i,feedItemsAdjustment:c,feedKey:p,feedStoryId:g,getColumnSpanConfig:m,gridConfig:f,i18n:b,pageSize:v,pagination:w,pullToRefresh:I,renderFeedItem:F,serverRender:A,showBizNuxHomefeedLoader:j,trafficSource:T,visuallyCompleteProfilerOptions:P,isLoadingStateEnabled:K,initialLoadingStatePinCount:N,isLoadingAccessibilityLabel:D,isLoadedAccessibilityLabel:O}=this.props,{unauthLandingPinStateForAuthHomefeed:H}=this.state,U=H?.feedItem&&i.length?[H.feedItem,...i]:i,{viewParameter:V,viewType:q}=n||{},{gridMeasurementKey:G}=f||{},J=p+(G?`|${G}`:""),Y="user_search"===T,X=Y?window.innerWidth-16:void 0,Q=U.some(e=>"board"===e.type),Z={columnWidth:(0,_.qG)({deviceType:e,customMWebColumnWidth:X,experimentalColumnWidth:Q?236:r}),renderItem:({data:e,itemIdx:t})=>{if(F){let r=F(e,t);if("FALLBACK_TO_DEFAULT"!==r)return r}switch(e.type){case"pin":return(0,B.jsx)(z.A,{children:this.renderFeedPin(e,t)});case"user":return(0,B.jsx)(E.A,{truncateName:!0,userId:e.id,userSearchRepStyle:Y,viewParameter:V,viewType:q});case"board":let r=this.props.getReduxBoard(e.id);return(0,B.jsx)(x.default,{boardKey:r?{type:"Legacy",data:r}:null,type:"grid",viewParameter:V,viewType:q});case"topic":return(0,B.jsx)(L.A,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:V,viewType:q});case"story":if("number"==typeof V)return(0,B.jsx)(R.A,{slotIndex:t,storyId:e.id,viewParameter:V,viewType:q||1});return null;case"FEED_BREAK_IN":return c&&"breakIn"===c.type&&c.value.content;default:return null}},gutterWidth:(0,_.yC)({experimentalGutter:l,trafficSource:T,deviceType:e}),loadItems:w.loadNext,minCols:Y?1:2,...f},ee=!j&&w.isLoadingNext&&0===U.length&&!this.state.refreshing&&!K,et=v&&25>parseInt(v,10),er=c?.type==="fullWidthBreakIn"?[{type:"feed",id:`${J}_feed_0`,item:U.slice(0,c.value.index)},{type:"fullWidthBreakIn",id:`${J}_break_in_0`,item:c.value.content},{type:"feed",id:`${J}_feed_1`,item:U.slice(c.value.index)}]:[{type:"feed",id:J,item:U}],el="desktop"===e,ea=el&&"flashlight"===T,en=ea?0:u.lo;return(0,B.jsxs)(o.az,{"data-test-id":"MobileFeed",children:[(0,B.jsx)(k.A,{auxData:n?.auxData||null,enabled:!!I,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:n?.viewParameter||null}),(0,B.jsxs)(o.az,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:en,marginStart:en,opacity:this.state.refreshing?50:100,children:[(0,B.jsxs)(h.A,{includeBackgroundImages:P?.includeBackgroundImages,includeVideos:P?.includeVideos,isAtEndOfFeed:!w.hasNext,isPlaceholderGrid:K&&w.isLoadingNext&&!U.length,itemCount:U.length,pinData:P?.pins,children:[U.length||K&&w.isLoadingNext?(0,B.jsx)(o.az,{"data-test-id":"feed",marginTop:(0,_.xf)({isDesktop:el}),children:(0,B.jsx)(y.A.Consumer,{children:e=>(0,B.jsx)(a.Fragment,{children:(0,B.jsx)(M.A,{children:er.map(t=>"feed"===t.type?(0,B.jsx)(d.default,{cacheKey:J,getColumnSpanConfig:m,id:A?p:void 0,initialLoadingStatePinCount:N,isFetching:w.isLoadingNext,isLoadedAccessibilityLabel:O??"",isLoadingAccessibilityLabel:D??"",isLoadingStateEnabled:!!K,items:t.item,scrollContainerRef:e,serverRender:A,...Z},t.id):"fullWidthBreakIn"===t.type?(0,B.jsx)(o.az,{children:t.item},t.id):null)})})})}):w.isLoadingNext?(0,B.jsx)(S.A,{}):t??null,w.isLoadingNext&&"board"===T&&et&&!K&&(0,B.jsx)(o.y$,{accessibilityLabel:b.bt("Loading", "Loading", "Label for loading spinner", undefined, true),show:!0})]}),ee&&(0,B.jsx)(o.az,{column:12,paddingY:2,children:(0,B.jsx)(C.A,{partialViewportWidth:ea})}),j&&(0,B.jsx)(W,{gridContainerRef:this.gridContainerRef,homefeedLoading:w.isLoadingNext}),!el&&!w.hasNext&&(0,B.jsx)(s.nU,{placementId:1000251}),g&&!this.hideMoreIdeas()&&(0,B.jsx)(o.az,{marginBottom:6,children:(0,B.jsx)($,{storyId:g})})]})]})}}function O({feedItems:e,pagination:t,...r}){(0,a.useEffect)(()=>{(0,l.A)("Feed","/app/www/Feed.tsx")},[]);let{feedItemsAdjustment:o}=r,s=(0,i.zy)(),d=(0,b.Ay)(),u=(0,p.A)(),{isAuthenticated:h,isBot:m}=(0,g._8)(),{isBizNuxHomefeedLoadShown:f}=(0,n.d4)(({session:e})=>e),y=e;o?.type==="breakIn"&&(y=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),(e=>{let t=v.get(e);if(t)return t;let r=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:`BREAK_IN_${e}`});return v.set(e,r),r})(e),...t.slice(e)])({items:e,breakIn:o.value}));let{experimentalColumnWidth:x,experimentalGutter:w}=(0,c.A)(),_=(0,j.oW)(),k=(0,T.HR)();return(0,B.jsx)(D,{...r,deviceType:d,experimentalColumnWidth:x,experimentalGutter:w,feedItems:y,getReduxBoard:_,getReduxPin:k,i18n:u,isAuthenticated:h,location:s,pagination:t,showBizNuxHomefeedLoader:!!f,showSeoMetadata:m||!h})}function H({isAtEnd:e,isFetching:t,fetchMore:r,refresh:l,...a}){let i=(0,n.d4)(({feeds:e})=>e[a.feedKey]??[]),o=(0,n.d4)(({desktopStories:e})=>e),{featuredBoardStoryId:s,feedStoryId:d}=(0,P.A)(i,o),c=(0,n.d4)(({session:e})=>e.firstHomeFeedRequestAfterNux),u=(0,n.wA)();return(0,B.jsx)(O,{...a,featuredBoardStoryId:s,feedItems:i,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>r(),refetch:()=>{c?u((0,A.ly)(!1)):l()}}})}function U({resource:{isAtEnd:e,isFetching:t,fetchMore:r,refresh:n},...i}){return(0,a.useEffect)(()=>{(0,l.A)("Feed","/app/www/Feed.tsx")},[]),(0,B.jsx)(H,{...i,fetchMore:r,isAtEnd:e,isFetching:t,refresh:n})}function V({resourceConfig:e,...t}){let r=(0,f.A)(e);return(0,B.jsx)(U,{...t,resource:r})}function q({resourceRef:e,fetchMore:t,refresh:r,...l}){let{isAtEnd:a}=(0,m.A)(e);return(0,B.jsx)(H,{...l,fetchMore:t,isAtEnd:a,isFetching:!1,refresh:r})}function G({resourceConfig:e,resourceRef:t,fetchMore:r,refresh:n,...i}){return((0,a.useEffect)(()=>{(0,l.A)("Feed","/app/www/Feed.tsx")},[]),t)?(0,B.jsx)(q,{...i,fetchMore:r??(()=>{}),refresh:n??(()=>{}),resourceRef:t}):(0,B.jsx)(V,{...i,resourceConfig:e})}},431216(e,t,r){r.d(t,{GP:()=>i,N5:()=>n,Y9:()=>a});let l={},a=e=>{l[e]&&l[e].handlePullToRefresh()},n=(e,t)=>{l[e]=t},i=e=>{delete l[e]}},408270(e,t,r){r.d(t,{Pi:()=>u,Wu:()=>d,of:()=>s,xx:()=>c});var l=r(960926),a=r(441472),n=r(646844);let i=e=>e>=Date.now()-72e5,o=(e,t)=>{let r=[];if(e)for(let l of e)(!t||l.is_shared)&&i(l.ts)&&r.push(l);return r},s=()=>{let e=(0,a.y1)().getItem(l.sH)??[],t=o(e,!1),r=o(e,!0),n=t.map(e=>e.first_pin_image_signature),s=r.map(e=>e.first_pin_image_signature),d=(e=>{let t={};if(e)for(let r of e)r.is_shared&&i(r.ts)&&r.pin_id&&(t[r.pin_id]={inviteCode:r.pin_invite_code});return t})(e);return{extraPlpImages:n,plpImageRenderData:t,extraBlpImages:o((0,a.y1)().getItem(l.xH)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:s,sharedPinData:d}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r+=1)if(e[r].id!==t[r].id)return!1;return!0},c=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),u=(e,t,r,l)=>{let a={};return e.forEach(e=>{let i=e.id,o=e.pins.length??0;a[i]=o,(0,n.U9)("webapp.log.nux.pin.picker.step.pin.number.of.pins",o,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:i,gender:r,age:l,use_case_display_name:e.display_name}}),(0,n.uI)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",o,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:i,gender:r,age:l,use_case_display_name:e.display_name}})}),a}},613278(e,t,r){r.d(t,{A:()=>s});var l=r(97407),a=r(296540),n=r(328138),i=r(28245),o=r(474848);function s({color:e,image:t,isSelected:r,title:s}){(0,a.useEffect)(()=>{(0,l.A)("PillRep","/app/www/nux/PillRep.tsx")},[]);let d=(0,i.D2)();return(0,o.jsxs)(n.az,{alignItems:"center","aria-selected":r,dangerouslySetInlineStyle:{__style:{backgroundColor:d?r?"#fff":"#767676":r?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(n.n1,{height:48,rounding:"circle",width:48,children:t.url&&(0,o.jsx)(n._V,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,o.jsx)(n.az,{marginEnd:3,marginStart:2,children:(0,o.jsx)(n.KJ,{color:r?"inverse":d?"light":"dark",weight:"bold",children:s})})]})}},553198(e,t,r){r.d(t,{J3:()=>n,X2:()=>o,e6:()=>i,tj:()=>s});var l=r(684059);function a(e,t){return l.A.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let n=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),i=(e,t,r)=>async l=>{l(n(e,!0));try{await a(e,r).callCreate(),t({event_type:601,object_id_str:e})}catch(t){l(n(e,!1))}},o=(e,t,r)=>async l=>{l(n(e,!1));try{await a(e,r).callDelete(),t({event_type:602,object_id_str:e})}catch(t){l(n(e,!0))}},s=(e,t="")=>r=>l.A.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let l=e[t];r(n(t,l))})})},144180(e,t,r){r.d(t,{A:()=>a});let l={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},a=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:r,featuredBoardStoryId:l,feed:a,feedStoryId:n,footerStoryId:i},o,s)=>{let d="story"===o.type&&t[o.id]?.story_type,c="board_ideas_feed"===d,u="board_ideas_preview_detailed"===d,p=!1;if("board_shop_tool_module"===d){let e=t[o.id];p=!!e.custom_properties?.is_full_width}return{feed:a.concat(u||c||p?[]:[o]),featuredBoardStoryId:"featured_boards"===d?o.id:l,feedStoryId:c?o.id:n,footerStoryId:u?o.id:i,boardShopModuleId:p?o.id:e,boardShopModuleIndex:p?s:r}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):l},940904(e,t,r){r.d(t,{A:()=>C});var l,a,n=r(97407),i=r(296540),o=r(671468),s=r(234784),d=r(328138),c=r(275552),u=r(534955),p=r(320201),h=r(553198),g=r(643357),m=r(157432),f=r(613278),y=r(474848);let b=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:r,isLego:l,isSelected:a,locale:n,nameTextSize:i,renderAsPill:o,showFollowerCount:s,topicName:c,followerCount:u,image:p})=>{let h=(0,g.A)(),b=(0,m.A)(),x=(0,y.jsx)(d.In,{accessibilityLabel:h.bt("Selected", "Selected", " - ", undefined, true),color:"light",icon:l?"check":"circle-check",size:l?12:24});return o?(0,y.jsx)(f.A,{color:e||"#767676",image:p,isSelected:a??!1,title:c}):(0,y.jsxs)(d.az,{"aria-selected":a,position:"relative",children:[(0,y.jsx)(d.n1,{rounding:l||r?400:200,children:(0,y.jsxs)(d.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,y.jsx)(d.az,{bottom:!0,left:!0,padding:l&&a?1:0,position:"absolute",right:!0,rounding:l&&a?400:0,top:!0,children:p.url&&(0,y.jsx)(d._V,{alt:c,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:p.url})}),(0,y.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:a?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:l&&a?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:l?400:void 0,top:!0}),l&&a&&(0,y.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:400,top:!0})]})}),r?(0,y.jsx)(d.az,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,y.jsx)(d.KJ,{align:"center",color:"light",size:i,weight:"bold",children:c})}):(0,y.jsxs)(d.az,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,y.jsx)(d.KJ,{color:"light",size:i,weight:"bold",children:c}),s&&u>=0&&(0,y.jsx)(d.az,{paddingY:1,children:(0,y.jsxs)(d.KJ,{color:"inverse",size:"100",children:[(0,y.jsx)(d.KJ,{color:"inverse",inline:!0,size:"100",weight:"bold",children:b(n,u,{shortform:!0,shortform_maximum_fraction_digits:1})}),h.bt("followers", "followers", " - ", undefined, true)]})})]}),a&&(0,y.jsx)(d.az,{margin:2,position:"absolute",right:!0,top:!0,children:l?(0,y.jsx)(d.az,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:200,width:24,children:x}):x})]})},x=(void 0!==l||(l=r(703918)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==l.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),v=({topicRef:e,...t})=>{(0,i.useEffect)(()=>{(0,n.A)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let r=(0,s.useFragment)(x,e),l=r.images?{url:r.images.url??"",width:r.images.width??0,height:r.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,y.jsx)(b,{backgroundColor:r.background_color??"",followerCount:r.follower_count??0,image:l,topicName:r.name??"",...t})},w=({topic:e,topicBlob:t,topicInfoForContextualExp:r,...l})=>{(0,i.useEffect)(()=>{(0,n.A)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let a=r||e||t,o=a?.images?.["236x"]||a?.images?.["400x"]||a?.images?.["474x"]||a?.images?.orig||{height:1,url:"",width:1},s=a&&"follower_count"in a&&void 0!==a.follower_count?a.follower_count:-1;return(0,y.jsx)(b,{backgroundColor:a?.background_color||"",followerCount:s,image:o,topicName:a?.name||"",...l})},_=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:r,isSelected:l=!1,markForRefresh:a,nameTextSize:n="lg",onTouch:i,padding:s=2,renderAsPill:g,showFollowButton:m=!1,showFollowerCount:f=!1,shouldClickthrough:b=!1,topic:x,viewParameter:_,viewType:k})=>{let S=(0,o.wA)(),I=(0,c.A)(),{locale:C}=(0,u._8)(),F=(0,y.jsxs)(d.az,{"data-test-id":"nux-picker-topic",children:["graphql"!==x.type?(0,y.jsx)(w,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:r,isSelected:l,locale:C,nameTextSize:n,renderAsPill:g,showFollowerCount:f,topic:x.topic,topicBlob:x.topicBlob,topicInfoForContextualExp:x.topicInfoForContextualExp}):(0,y.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:r,isSelected:l,locale:C,nameTextSize:n,renderAsPill:g,showFollowerCount:f,topicRef:x.topicRef}),!!x&&m&&(0,y.jsx)(d.az,{paddingY:2,children:(0,y.jsx)(p.A,{followEventType:601,id:x.id,inline:t,invertColors:t,isFollowed:x.is_followed,onFollow:e=>{S((0,h.e6)(e,I)),a&&a()},onUnfollow:e=>{S((0,h.X2)(e,I)),a&&a()},pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:_||void 0,viewType:k||void 0})})]}),A="/";return x&&(A=`/topics/${x.id}`),b&&x.slug?(0,y.jsx)(d.$A,{href:A,onTap:({event:e})=>{i?.(e)},rounding:200,tapStyle:"compress",children:(0,y.jsx)(d.az,{padding:s,children:F})}):F},k=(void 0!==a||(a=r(393895)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==a.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),S=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:r,isLego:l,isSelected:a=!1,markForRefresh:n,nameTextSize:i="lg",onTouch:o,padding:d=2,renderAsPill:c,showFollowButton:u=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:g,viewType:m})=>{let f=(0,s.useFragment)(k,e);return(0,y.jsx)(_,{decreaseNamePadding:t,isHomefeedTuner:r,isLego:l,isSelected:a,markForRefresh:n,nameTextSize:i,onTouch:o,padding:d,renderAsPill:c,shouldClickthrough:h,showFollowButton:u,showFollowerCount:p,topic:{id:f.entityId??"",type:"graphql",is_followed:f.is_followed??!1,topicRef:f},viewParameter:g,viewType:m})},I=({id:e,topic:t,topicBlob:r,topicInfoForContextualExp:l,decreaseNamePadding:a=!1,isHomefeedTuner:n,isLego:i,isSelected:s=!1,markForRefresh:d,nameTextSize:c="lg",onTouch:u,padding:p=2,renderAsPill:h,showFollowButton:g=!1,showFollowerCount:m=!1,shouldClickthrough:f=!1,viewParameter:b,viewType:x})=>{let v=(0,o.d4)(({topics:t})=>t[e]),w=t??v;return(0,y.jsx)(_,{decreaseNamePadding:a,isHomefeedTuner:n,isLego:i,isSelected:s,markForRefresh:d,nameTextSize:c,onTouch:u,padding:p,renderAsPill:h,shouldClickthrough:f,showFollowButton:g,showFollowerCount:m,topic:{id:e,is_followed:!!w?.is_followed,topic:w,topicBlob:r,topicInfoForContextualExp:l,type:"resource"},viewParameter:b,viewType:x})},C=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:r,isSelected:l=!1,markForRefresh:a,nameTextSize:o="lg",onTouch:s,padding:d=2,renderAsPill:c,showFollowButton:u=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:g,viewType:m,...f})=>((0,i.useEffect)(()=>{(0,n.A)("TopicRep","/app/www/topic/TopicRep.tsx")},[]),f.topicRef?(0,y.jsx)(S,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:r,isSelected:l,markForRefresh:a,nameTextSize:o,onTouch:s,padding:d,renderAsPill:c,shouldClickthrough:h,showFollowButton:u,showFollowerCount:p,topicRef:f.topicRef,viewParameter:g,viewType:m}):(0,y.jsx)(I,{decreaseNamePadding:e,id:f.id,isHomefeedTuner:t,isLego:r,isSelected:l,markForRefresh:a,nameTextSize:o,onTouch:s,padding:d,renderAsPill:c,shouldClickthrough:h,showFollowButton:u,showFollowerCount:p,topic:f.topic,topicBlob:f.topicBlob,topicInfoForContextualExp:f.topicInfoForContextualExp,viewParameter:g,viewType:m}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/75347.en_GB-2d3886c33f6109c1.mjs.map